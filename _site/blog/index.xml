<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Risk Taker!</title>
<link>https://henriqueqrm.netlify.app/blog/</link>
<atom:link href="https://henriqueqrm.netlify.app/blog/index.xml" rel="self" type="application/rss+xml"/>
<description>I&#39;m a backpacker sharing my journey into quantitative financial risks in the hopes that you don&#39;t have to suffer on your journey too. &lt;/br&gt;</description>
<generator>quarto-1.5.57</generator>
<lastBuildDate>Sun, 20 Apr 2025 03:00:00 GMT</lastBuildDate>
<item>
  <title>Mil Contrafactuais: o caso do Banco Master no Multiverso do Colapso</title>
  <dc:creator>Henrique Costa</dc:creator>
  <link>https://henriqueqrm.netlify.app/blog/master_bank_study/</link>
  <description><![CDATA[ 

<!-- source: https://github.com/gadenbuie/garrickadenbuie-com/blob/main/_partials/title-block-link-buttons/title-block.html -->
<!-- 
<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title"> 
-->
<!-- <header id="title-block-header" class="quarto-title-block default page-columns"> -->
<!-- <div class="quarto-title page-columns page-full featured-image p-4" style="background-image: url(featured.png), url(featured.jpg), url(../featured.jpg);"> -->



<p><a href="img/feature.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="https://henriqueqrm.netlify.app/blog/master_bank_study/img/feature.png" class="img-fluid"></a></p>
<p><br></p>
<section id="introdução" class="level1">
<h1>Introdução</h1>
<p>A falência de uma instituição financeira não é, em geral, o produto de um único erro ou de uma circunstância isolada. Trata-se, quase sempre, do acúmulo dinâmico de vulnerabilidades, decisões arriscadas e pressões contextuais que se inter-relacionam ao longo do tempo. No caso do Banco Master, a liquidação extrajudicial anunciada em 2024 não pode ser explicada por um fator único. Exige a consideração de interações complexas, dependências estruturais e fragilidades emergentes.</p>
<p>Mais do que reconstituir a história factual do colapso, este estudo propõe um exercício contrafactual radical: simular mil universos possíveis, nos quais as trajetórias da instituição se desdobram sob diferentes combinações de decisões, intervenções e contextos. Quantos desses universos levariam inevitavelmente ao colapso? Quantos indicariam margens de sobrevivência?</p>
<p>Utilizamos uma arquitetura metodológica baseada em inferência causal (Pearl, 2009; Rubin, 1974), combinada com simulações bayesianas de múltiplos mundos (Everett, 1957), para mapear a propensão estrutural ao colapso. Diagramas Acíclicos Direcionados (DAGs) foram utilizados para representar as relações causais fundamentais. Ponderações por escores de propensão (IPW) ajustaram os efeitos marginais de intervenções plausíveis.</p>
<p>A proposta não é buscar culpados, mas compreender padrões: por que sistemas supostamente em conformidade falham. E como escolhas estratégicas — mesmo feitas dentro das margens regulatórias — podem construir arquiteturas de fragilidade latente.</p>
</section>
<section id="referencial-teórico" class="level1">
<h1>Referencial Teórico</h1>
<p>A construção deste modelo causal está fundamentada em três tradições teóricas interligadas: a inferência causal moderna, a filosofia dos mundos possíveis e a teoria do risco sistêmico em finanças. Além disso, incorporamos ferramentas estatísticas como o uso de escores de propensão e simulação Monte Carlo, combinando técnicas empíricas e epistêmicas para avaliação de cenários contrafactuais.</p>
<section id="inferência-causal-de-resultados-potenciais-à-arquitetura-gráfica" class="level2">
<h2 class="anchored" data-anchor-id="inferência-causal-de-resultados-potenciais-à-arquitetura-gráfica">Inferência Causal: De Resultados Potenciais à Arquitetura Gráfica</h2>
<p>A inferência causal moderna é o ponto de partida deste estudo. Fundamentada nas obras de Donald Rubin (1974) e Judea Pearl (2009), ela fornece instrumentos para formalizar a pergunta central que guia este trabalho: <em>“O que teria acontecido se…”</em>.</p>
<p>Rubin propõe que causalidade é definida como a diferença entre dois estados potenciais de um mesmo objeto: o mundo em que recebe o tratamento <img src="https://latex.codecogs.com/png.latex?(Y(1)Y(1))"> e o mundo em que não recebe <img src="https://latex.codecogs.com/png.latex?(Y(0)Y(0))">. O problema fundamental da inferência causal — a impossibilidade de observar simultaneamente ambos os estados — é resolvido via simulações, comparações e reponderações.</p>
<p>Pearl expande esse arcabouço ao construir o conceito de <strong>Diagramas Acíclicos Direcionados (DAGs)</strong>. Um DAG é uma representação gráfica onde variáveis são conectadas por setas orientadas, explicitando não apenas correlações, mas relações <strong>causais dirigidas</strong>.<br>
A operação <img src="https://latex.codecogs.com/png.latex?do(X)"> introduz a capacidade de modelar intervenções: simular artificialmente o que aconteceria ao alterar <img src="https://latex.codecogs.com/png.latex?X"> enquanto isolamos as demais relações.</p>
<p>Este estudo adota a perspectiva de Pearl: eventos no colapso do Banco Master são organizados como nós em um DAG, e intervenções hipotéticas (ex: auditoria externa, ausência de precatórios) são modeladas para observar trajetórias alternativas.</p>
<p>Contudo, como veremos a seguir, a causalidade aqui não é tratada como um dado absoluto — mas como uma <strong>construção epistemológica</strong>, sujeita a limites e interpretações.</p>
</section>
<section id="causalidade-como-construção-a-crítica-epistemológica" class="level2">
<h2 class="anchored" data-anchor-id="causalidade-como-construção-a-crítica-epistemológica">Causalidade como Construção: a crítica epistemológica</h2>
<p>Para além do rigor matemático de Rubin e Pearl, este estudo reconhece a dimensão crítica da causalidade apontada por autores como Nancy Cartwright (2007) e Ian Hacking (1983).</p>
<p>Cartwright sustenta que modelos causais não descrevem leis naturais universais, mas estruturas locais e específicas, dependentes do contexto e das escolhas do modelador. Ela argumenta que <em>“leis não voam sozinhas”</em> — ou seja, o sucesso de uma previsão causal depende da existência de mecanismos que sustentem aquela relação no ambiente modelado.</p>
<p>Hacking reforça essa posição ao afirmar que a causalidade é uma forma de intervenção, não de observação pura. Não “descobrimos” causas como arqueólogos — intervimos, testamos, reconfiguramos o mundo para revelar padrões.</p>
<p>No contexto do Banco Master, essa visão crítica implica que:</p>
<ul>
<li>O DAG proposto não é uma fotografia fiel da realidade,</li>
<li>Ele é uma estrutura plausível, construída para organizar relações prováveis de causalidade a partir dos dados disponíveis,</li>
<li>As inferências realizadas são condicionadas à estrutura modelada, e não à natureza do sistema em si.</li>
</ul>
<p>Essa postura epistemológica é essencial para interpretar corretamente os resultados simulados: eles não são verdades absolutas, mas narrativas probabilísticas ancoradas em escolhas teóricas conscientes.</p>
</section>
<section id="mundos-possíveis-a-estrutura-contrafactual" class="level2">
<h2 class="anchored" data-anchor-id="mundos-possíveis-a-estrutura-contrafactual">Mundos Possíveis: A Estrutura Contrafactual</h2>
<p>Inspirado na interpretação de muitos mundos de Hugh Everett III (1957), este estudo adota a ideia de que cada combinação alternativa de eventos gera um universo possível distinto. Não há apenas um futuro — há uma árvore imensa de trajetórias potenciais, divergindo a cada decisão ou circunstância.</p>
<p>Essa perspectiva é operacionalizada através de:</p>
<ul>
<li>Simulações bayesianas de múltiplos mundos,</li>
<li>Sorteio aleatório de pesos causais para cada universo,</li>
<li>Exploração sistemática das condições sob as quais o colapso ocorre ou é evitado.</li>
</ul>
<p>A noção de mundos possíveis permite ultrapassar a limitação dos modelos deterministas tradicionais: não perguntamos apenas <em>“o que aconteceu?”</em>, mas <em>“o que poderia ter acontecido sob outras combinações causais?”</em>.</p>
<p>No Banco Master, isso significa mapear não apenas a trajetória real que levou à liquidação, mas também:</p>
<ul>
<li>Universos em que auditorias externas foram implementadas a tempo;</li>
<li>Universos em que a governança foi reforçada;</li>
<li>Universos em que aquisições de precatórios não ocorreram.</li>
</ul>
<p>Cada simulação representa um observável alternativo — uma realização de uma trajetória possível.</p>
</section>
<section id="colapsabilidade-fragilidade-estrutural-e-instabilidade-endógena" class="level2">
<h2 class="anchored" data-anchor-id="colapsabilidade-fragilidade-estrutural-e-instabilidade-endógena">Colapsabilidade, Fragilidade Estrutural e Instabilidade Endógena</h2>
<p>A colapsabilidade causal — conceito central deste estudo — refere-se à frequência com que o sistema modelado, a partir de suas condições estruturais, converge para o colapso.</p>
<p>Essa métrica é inspirada na tradição de:</p>
<ul>
<li><strong>Hyman Minsky (2008):</strong> para quem a estabilidade econômica gera complacência, incentivando a alavancagem excessiva até o ponto de ruptura.</li>
<li><strong>Nassim Taleb (2012):</strong> que introduz a noção de antifragilidade como capacidade de aprender e crescer com a volatilidade — e contrapõe sistemas frágeis, que colapsam facilmente.</li>
</ul>
<p>O Banco Master, segundo o modelo proposto, não colapsou porque enfrentou um choque externo atípico. Ele colapsou porque sua estrutura era, em si, propensa ao colapso: governança centralizada, exposição elevada a riscos judiciais, funding instável e vulnerabilidade reputacional.</p>
<p>A simulação de mil mundos permite quantificar essa propensão: mesmo variando condições iniciais e pesos causais, a grande maioria das trajetórias (85,7%) resulta em falência.</p>
<p>A fragilidade, aqui, é uma propriedade emergente da rede de relações causais — não o produto de um único evento.</p>
</section>
<section id="crítica-à-modelagem-tradicional-risco-não-é-número-é-estrutura" class="level2">
<h2 class="anchored" data-anchor-id="crítica-à-modelagem-tradicional-risco-não-é-número-é-estrutura">Crítica à Modelagem Tradicional: Risco não é Número, é Estrutura</h2>
<p>A modelagem tradicional de riscos financeiros, baseada em frameworks como o Value at Risk (VaR), stress tests paramétricos e modelos de regressão linear, repousa sobre uma série de suposições que, embora convenientes matematicamente, tornam-se perigosas epistemologicamente.</p>
<p>Esses modelos pressupõem:</p>
<ul>
<li>Estabilidade estrutural: o sistema financeiro é tratado como essencialmente estático, reagindo apenas a choques externos.</li>
<li>Normalidade estatística: distribuições de perdas seguem padrões gaussianos, em que eventos extremos são raríssimos.</li>
<li>Linearidade causal: choques afetam o sistema de maneira proporcional e previsível.</li>
<li>Separabilidade dos riscos: riscos são somados ou compostos de maneira aditiva, sem efeitos de interação complexa.</li>
</ul>
<p>No entanto, como argumentam Minsky (2008) e Taleb (2012), essas premissas não descrevem o comportamento real de sistemas financeiros.</p>
<p>O risco sistêmico emerge da própria estrutura relacional dos agentes, e não de choques isolados. O colapso não é um ponto fora da curva — é o resultado endógeno da arquitetura de fragilidade acumulada.</p>
<p>Além disso, como mostram Pearl (2009) e Cartwright (2007), causalidade não é agregação de variáveis:</p>
<ul>
<li>Causalidade exige entender <em>como</em> variáveis se conectam,</li>
<li><em>quais intervenções</em> alteram desfechos,</li>
<li>e <em>quais trajetórias</em> são possíveis sob combinações diferentes de eventos.</li>
</ul>
<p>Os modelos tradicionais, ao ignorarem a arquitetura causal, tornam-se cegos para a progressão do risco estrutural.</p>
<p>Eles podem medir a volatilidade de uma variável financeira isolada — mas não enxergam a formação lenta e contínua de padrões de colapso que atravessam múltiplos domínios.</p>
<section id="o-novo-paradigma-adotado-neste-estudo" class="level3">
<h3 class="anchored" data-anchor-id="o-novo-paradigma-adotado-neste-estudo">O novo paradigma adotado neste estudo</h3>
<p>Em contraposição, este trabalho propõe um deslocamento de paradigma:</p>
<ul>
<li><strong>Do ponto ótimo para o espaço de possibilidades:</strong> Não buscamos prever um valor esperado de perda, mas explorar os múltiplos caminhos causais que podem emergir.</li>
<li><strong>Da normalidade para a instabilidade estrutural:</strong> Assumimos que sistemas financeiros são intrinsecamente propensos à instabilidade, como defende Minsky.</li>
<li><strong>Da previsão estatística para a modelagem causal:</strong> Substituímos projeções pontuais por simulações de múltiplos mundos, testando a robustez estrutural frente a variações paramétricas e relacionais.</li>
<li><strong>Do risco como número para o risco como arquitetura:</strong> O risco não é uma variável — é a configuração causal do sistema como um todo.</li>
</ul>
</section>
<section id="aplicação-no-caso-banco-master" class="level3">
<h3 class="anchored" data-anchor-id="aplicação-no-caso-banco-master">Aplicação no caso Banco Master</h3>
<p>Ao analisar o Banco Master sob esta lente, compreendemos que:</p>
<ul>
<li>O colapso não foi resultado de um “evento extremo” imprevisível.</li>
<li>Ele foi o desfecho natural da arquitetura causal construída ao longo do tempo: Governança frágil → Alavancagem judicial → Exposição reputacional → Funding agressivo → Reação regulatória tardia → Colapso.</li>
</ul>
<p>Essas relações não são lineares nem aditivas — elas são interativas e acumulativas.</p>
<p>O modelo causal aqui proposto, ao explorar 1.000 mundos possíveis, reconhece o risco como uma propriedade emergente da estrutura relacional do sistema — e não como uma anomalia estatística.</p>
</section>
</section>
</section>
<section id="metodologia" class="level1">
<h1>Metodologia</h1>
<p>O modelo aqui desenvolvido combina rigor formal e flexibilidade interpretativa para explorar a arquitetura estrutural de risco associada ao Banco Master.</p>
<p>A construção do DAG, o sorteio bayesiano de pesos causais, a ativação condicional de eventos e a aplicação de ponderações por escores de propensão permitiram simular não apenas uma trajetória histórica, mas um espaço inteiro de futuros possíveis.</p>
<p>Essa abordagem ultrapassa a lógica determinística tradicional dos modelos de risco, reconhecendo que, em sistemas complexos e instáveis, o colapso não é um desvio estatístico — é uma possibilidade latente, muitas vezes majoritária, nas redes causais que sustentam a instituição.</p>
<p>Ao adotar a filosofia de modelagem como intervenção (Hacking, 1983) e a crítica à causalidade rígida (Cartwright, 2007), garantimos que os mundos simulados sejam entendidos como cenários epistemológicos plausíveis, e não meras reproduções mecânicas da realidade.</p>
<section id="estrutura-geral-do-modelo" class="level2">
<h2 class="anchored" data-anchor-id="estrutura-geral-do-modelo">Estrutura Geral do Modelo</h2>
<p>O estudo desenvolve uma simulação analítica baseada em inferência causal gráfica e probabilidade bayesiana para modelar o colapso ou sobrevivência do Banco Master.</p>
<p>O procedimento baseia-se em:</p>
<ul>
<li><p>Construção de um Diagrama Acíclico Direcionado (DAG) representando relações causais entre variáveis críticas;</p></li>
<li><p>Atribuição de pesos causais <img src="https://latex.codecogs.com/png.latex?%5Ctheta_%7Bij%7D"> baseados em distribuições probabilísticas (priors) distintas;</p></li>
<li><p>Simulação de 1.000 mundos possíveis, cada qual uma realização independente dos pesos e eventos;</p></li>
<li><p>Aplicação de Ponderação por Escore de Propensão (IPW) para estimar efeitos marginais ajustados;</p></li>
<li><p>Cálculo de métricas estruturais de colapsabilidade e impacto marginal.</p></li>
</ul>
<p>A arquitetura metodológica visa não apenas reproduzir o evento observado (colapso), mas explorar trajetórias contrafactuais plausíveis e medir a fragilidade estrutural do sistema.</p>
</section>
<section id="construção-do-dag-representação-causal-estruturada" class="level2">
<h2 class="anchored" data-anchor-id="construção-do-dag-representação-causal-estruturada">Construção do DAG: Representação Causal Estruturada</h2>
<p>A primeira etapa consistiu na modelagem explícita das relações causais mais relevantes associadas à trajetória do Banco Master.</p>
<p>O DAG proposto inclui nós representando:</p>
<ul>
<li>Governança Frágil</li>
<li>Estrutura Societária Concentrada</li>
<li>Sinais de Fraude Contábil</li>
<li>Aquisição de Precatórios</li>
<li>Funding Agressivo (CDBs)</li>
<li>FIDC Não Transparente</li>
<li>Will Bank e Voiter Com Problemas</li>
<li>Ambiente Político-Institucional Permissivo</li>
<li>Intervenção Regulatória Tardia (Bacen atuou)</li>
<li>Colapso (Desfecho Final)</li>
</ul>
<p>Cada variável <img src="https://latex.codecogs.com/png.latex?X_j"> é modelada como uma função de seus pais causais <img src="https://latex.codecogs.com/png.latex?%5Ctext%7Bpa%7D(j)">:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0AX_j%20=%20f%5Cleft(%20%5Csum_%7Bi%20%5Cin%20%5Ctext%7Bpa%7D(j)%7D%20%5Ctheta_%7Bij%7D%20X_i%20+%20%5Cvarepsilon_j%20%5Cright)%0A"></p>
<p><strong>Onde</strong>: - <img src="https://latex.codecogs.com/png.latex?%5Ctheta_%7Bij%7D"> são os pesos causais atribuídos às conexões entre variáveis; - <img src="https://latex.codecogs.com/png.latex?%5Cvarepsilon_j%20%5Csim%20%5Cmathcal%7BN%7D(0,%20%5Csigma%5E2)"> é o ruído aleatório (variações não modeladas); - <img src="https://latex.codecogs.com/png.latex?f(%5Ccdot)"> é uma função de ligação (ex: logística ou degrau), conforme a natureza de <img src="https://latex.codecogs.com/png.latex?X_j">.</p>
<p>As direções seguem a lógica teórica, com: <strong>Bloqueio de backdoors</strong>: Controle de variáveis de confusão. <strong>Tratamento de colisores</strong>: “Colapso” age como um <em>collider</em> no grafo.</p>
<p><img src="https://latex.codecogs.com/png.latex?%20f(x)%20=%20%5Cbegin%7Bcases%7D%0A%5Cfrac%7B1%7D%7B1%20+%20e%5E%7B-x%7D%7D%20&amp;%20%5Ctext%7B(Log%C3%ADstica)%7D%20%5C%5C%0A%5Cmathbb%7BI%7D(x%20%3E%200)%20&amp;%20%5Ctext%7B(Degrau)%7D%0A%5Cend%7Bcases%7D%20"></p>
</section>
<section id="simulação-bayesiana-de-múltiplos-mundos" class="level2">
<h2 class="anchored" data-anchor-id="simulação-bayesiana-de-múltiplos-mundos">Simulação Bayesiana de Múltiplos Mundos</h2>
<p>A segunda etapa envolveu a geração de 1.000 mundos simulados.</p>
<p>Em cada mundo:</p>
<p>Em cada mundo simulado:</p>
<ol type="1">
<li><p><strong>Atribuição de pesos causais</strong>:<br>
A cada arco causal <img src="https://latex.codecogs.com/png.latex?i%20%5Cto%20j"> é associado um peso <img src="https://latex.codecogs.com/png.latex?%5Ctheta_%7Bij%7D%5E%7B(s)%7D"> amostrado de uma distribuição pré-definida.</p></li>
<li><p><strong>Distribuições de priors testadas</strong>:</p>
<ul>
<li><strong>Beta-like (2,2)</strong>:<br>
Peso médio centrado (cenário de conhecimento empírico);</li>
<li><strong>Gaussiana truncada (<img src="https://latex.codecogs.com/png.latex?%5Cmu%20=%200.25">, <img src="https://latex.codecogs.com/png.latex?%5Csigma%20=%200.15">)</strong>:<br>
Viés negativo, simulando omissão ou debilidade estrutural;</li>
<li><strong>Uniforme truncada (0.1 a 0.9)</strong>:<br>
Incerteza radical para teste de robustez.</li>
</ul></li>
</ol>
<p>A cada iteração:</p>
<ul>
<li>Os pesos <img src="https://latex.codecogs.com/png.latex?%5Ctheta_%7Bij%7D%5E%7B(s)%7D"> são sorteados conforme o prior escolhido;</li>
<li>As variáveis <img src="https://latex.codecogs.com/png.latex?X_j"> são ativadas seguindo a topologia causal;</li>
<li>O desfecho de colapso <img src="https://latex.codecogs.com/png.latex?Y"> é calculado pela função logística:</li>
</ul>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cmathbb%7BP%7D(Y%20=%201)%20=%20%5Csigma%5Cleft(%20%5Csum_j%20%5Cgamma_j%20X_j%20%5Cright)%0A"></p>
<p>Onde <img src="https://latex.codecogs.com/png.latex?%5Cgamma_j"> são pesos finais específicos associados a variáveis terminalmente críticas.</p>
<p>O operador <img src="https://latex.codecogs.com/png.latex?%5Csigma(z)"> é a função logística:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Csigma(z)%20=%20%5Cfrac%7B1%7D%7B1%20+%20e%5E%7B-z%7D%7D%0A"></p>
<p>Essa estrutura permite que o colapso não seja determinado por uma única variável, mas pela agregação ponderada de riscos ao longo da rede causal.</p>
</section>
<section id="ponderação-por-escores-de-propensão-ipw" class="level2">
<h2 class="anchored" data-anchor-id="ponderação-por-escores-de-propensão-ipw">Ponderação por Escores de Propensão (IPW)</h2>
<p>Para avaliar o impacto marginal de variáveis binárias críticas — como presença de auditoria externa ou ausência de precatórios — foi utilizada a técnica de Inverse Probability Weighting (IPW).</p>
<p>Procedimento:</p>
<ul>
<li><p>Modelou-se a probabilidade de tratamento <img src="https://latex.codecogs.com/png.latex?e(%5Cmathbf%7BX%7D)%20=%20%5Cmathbb%7BP%7D(D%20=%201%7C%5Cmathbf%7BX%7D)"> via regressão logística, onde <img src="https://latex.codecogs.com/png.latex?D"> representa o tratamento/intervenção (ex: auditoria).</p></li>
<li><p>Cada mundo simulado recebeu um peso:</p></li>
</ul>
<p><img src="https://latex.codecogs.com/png.latex?%0Aw_i%20=%20%5Cfrac%7BD_i%7D%7Be(%5Cmathbf%7BX%7D_i)%7D%20+%20%5Cfrac%7B1%20-%20D_i%7D%7B1%20-%20e(%5Cmathbf%7BX%7D_i)%7D%0A"></p>
<ul>
<li>Os efeitos marginais (ATT - Average Treatment Effect on the Treated) foram estimados reponderando as simulações pelo IPW, isolando assim o impacto causal das intervenções.</li>
</ul>
<section id="nota-técnica" class="level3">
<h3 class="anchored" data-anchor-id="nota-técnica">Nota técnica:</h3>
<ul>
<li>Não utilizamos matching de escores de propensão, para evitar perda de simulações e maximizar o aproveitamento dos mundos simulados.</li>
<li>IPW foi preferido pois permite ajustar todo o espaço de possibilidades simultaneamente.</li>
</ul>
</section>
</section>
<section id="definição-das-métricas-de-avaliação" class="level2">
<h2 class="anchored" data-anchor-id="definição-das-métricas-de-avaliação">Definição das Métricas de Avaliação</h2>
<p>A metodologia extrai três métricas principais dos mundos simulados:</p>
<ul>
<li><strong>Colapsabilidade Causal:</strong></li>
</ul>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Ctext%7BColapsabilidade%7D%20=%20%5Cfrac%7B1%7D%7BS%7D%20%5Csum_%7Bs=1%7D%5E%7BS%7D%201%5BY%5E%7B(s)%7D%20=%201%5D%0A"></p>
<p>Percentual de mundos onde ocorre o colapso, refletindo a propensão estrutural à falência.</p>
<ul>
<li><strong>Impacto Marginal (ATT) das Intervenções:</strong></li>
</ul>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Chat%7BT%7D_%7BATT%7D%20=%20%5Cfrac%7B1%7D%7Bn_t%7D%20%5Csum_%7Bi%20%5Cin%20D=1%7D%20w_i%20%5Cleft(%20Y_i%20-%20%5Chat%7BY%7D%5E%7B(0)%7D_i%20%5Cright)%0A"></p>
<p>Impacto de variáveis binárias na probabilidade de colapso.</p>
<ul>
<li><strong>Resiliência Estrutural:</strong></li>
</ul>
<p>Frequência de mundos onde, mesmo sob risco ativado, o banco sobreviveu — permitindo identificar trajetórias de sobrevivência estrutural.</p>
</section>
<section id="arquitetura-detalhada-da-dag-e-das-relações-causais" class="level2">
<h2 class="anchored" data-anchor-id="arquitetura-detalhada-da-dag-e-das-relações-causais">Arquitetura Detalhada da DAG e das Relações Causais</h2>
<p>O Diagrama Acíclico Direcionado (DAG) foi construído para representar, de maneira explícita e orientada, as principais relações causais que determinam a trajetória do Banco Master.</p>
<p>O DAG foi organizado em quatro blocos causais:</p>
<ol type="1">
<li>Governança e Estrutura Institucional
<ul>
<li>Governança Frágil</li>
<li>Estrutura Societária Concentrada</li>
<li>Sinais de Fraude Contábil</li>
</ul></li>
<li>Decisões Estratégicas de Negócio
<ul>
<li>Aquisição de Precatórios</li>
<li>Funding Agressivo (emissão de CDBs)</li>
<li>FIDC Não Transparente</li>
</ul></li>
<li>Contexto Sistêmico e Externo
<ul>
<li>Ambiente Político-Institucional Permissivo</li>
<li>Will Bank e Voiter (riscos reputacionais)</li>
</ul></li>
<li>Resposta Reguladora
<ul>
<li>Intervenção Regulatória (Bacen atuou)</li>
</ul></li>
</ol>
<section id="estrutura-dos-caminhos-causais-no-dag" class="level3">
<h3 class="anchored" data-anchor-id="estrutura-dos-caminhos-causais-no-dag">Estrutura dos caminhos causais no DAG:</h3>
<ul>
<li>Confounders:
<ul>
<li>“Ambiente Político-Institucional” afeta tanto “Governança Frágil” quanto “Bacen atuou” → necessidade de controle (via IPW).</li>
</ul></li>
<li>Colliders:
<ul>
<li>“Colapso” é o collider final onde múltiplos caminhos convergem (governança, funding, reputação, intervenção).</li>
</ul></li>
<li>Backdoors identificados:
<ul>
<li>Exemplo: “Ambiente Político” → “Bacen atuou” → “Colapso” → precisa ser bloqueado para isolar o efeito real de “Governança Frágil” sobre “Colapso”.</li>
</ul></li>
<li>Intervenções hipotéticas simuladas:
<ul>
<li>Presença de auditoria externa;</li>
<li>Ausência de aquisição de precatórios;</li>
<li>Ação precoce do regulador.</li>
</ul></li>
</ul>
<p>Essas intervenções foram aplicadas via operador <img src="https://latex.codecogs.com/png.latex?do(X)">, com seus impactos estimados no espaço contrafactual.</p>
</section>
</section>
<section id="lógica-de-ativação-das-variáveis-no-dag" class="level2">
<h2 class="anchored" data-anchor-id="lógica-de-ativação-das-variáveis-no-dag">Lógica de Ativação das Variáveis no DAG</h2>
<p>Cada nó <img src="https://latex.codecogs.com/png.latex?X_j"> do DAG é ativado de acordo com a seguinte regra de decisão:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0AX_j%20=%0A%5Cbegin%7Bcases%7D%0A1,%20&amp;%20%5Ctext%7Bse%20%7D%20%5Csum_%7Bi%20%5Cin%20pa(j)%7D%20%5Ctheta_%7Bij%7D%20X_i%20+%20%5Cepsilon_j%20%3E%20%5Ctau_j%20%5C%5C%0A0,%20&amp;%20%5Ctext%7Bcaso%20contr%C3%A1rio%7D%0A%5Cend%7Bcases%7D%0A"></p>
<p>Onde:</p>
<ul>
<li><p><img src="https://latex.codecogs.com/png.latex?%5Ctheta_%7Bij%7D"> é o peso causal sorteado para o arco <img src="https://latex.codecogs.com/png.latex?i%20%5Cto%20j">,</p></li>
<li><p><img src="https://latex.codecogs.com/png.latex?%5Cepsilon_j%20%5Csim%20%5Cmathcal%7BN%7D(0,%20%5Csigma%5E2)"> é um ruído aleatório de média zero,</p></li>
<li><p><img src="https://latex.codecogs.com/png.latex?%5Ctau_j"> é um limiar fixo específico para ativação da variável.</p></li>
</ul>
<p>Funções de ativação utilizadas:</p>
<ul>
<li><p>Para variáveis binárias simples (ex: “Governança Frágil”); função degrau.</p></li>
<li><p>Para desfechos contínuos intermediários (ex: “Propensão ao Colapso”); função logística.</p></li>
</ul>
<p>Isso permite representar tanto eventos discretos (ativou ou não ativou) quanto gradientes de risco.</p>
</section>
<section id="testes-de-sensibilidade-das-simulações" class="level2">
<h2 class="anchored" data-anchor-id="testes-de-sensibilidade-das-simulações">Testes de Sensibilidade das Simulações</h2>
<p>Para garantir que as conclusões do modelo não fossem artefatos específicos das suposições iniciais, realizamos testes de sensibilidade:</p>
<ol type="1">
<li>Variação das distribuições priors:</li>
</ol>
<ul>
<li>Rodamos as 1.000 simulações sob três tipos de distribuição de pesos:
<ul>
<li>Beta-like (cenário centrado)</li>
<li>Gaussiana truncada (viés negativo)</li>
<li>Uniforme truncada (incerteza máxima)</li>
</ul></li>
</ul>
<ol start="2" type="1">
<li>Comparação das taxas de colapso:</li>
</ol>
<ul>
<li>As frequências de colapso foram similares entre as três distribuições (82% a 88%), demonstrando robustez estrutural.</li>
</ul>
<ol start="3" type="1">
<li>Robustez do impacto marginal (ATT):</li>
</ol>
<ul>
<li>Reestimamos os ATT sob cada prior distinta, e as ordens de importância das variáveis críticas se mantiveram consistentes.</li>
</ul>
<p>Esses testes reforçam que o colapso do Banco Master é estruturalmente robusto à variabilidade paramétrica — uma característica típica de sistemas frágeis.</p>
</section>
<section id="o-observador-como-arquiteto-dos-mundos-possíveis" class="level2">
<h2 class="anchored" data-anchor-id="o-observador-como-arquiteto-dos-mundos-possíveis">O Observador como Arquiteto dos Mundos Possíveis</h2>
<p>Em consonância com a crítica epistemológica de Cartwright (2007) e Hacking (1983), este estudo reconhece que:</p>
<ul>
<li>Toda estrutura causal é uma construção dependente do observador;</li>
<li>As escolhas de quais variáveis incluir, quais relações modelar, e quais priors utilizar são atos de modelagem ativa.</li>
</ul>
<p>O observador:</p>
<ul>
<li>Define o DAG e as distribuições priors,</li>
<li>Seleciona as intervenções contrafactuais a serem testadas,</li>
<li>Mas não manipula os resultados: uma vez definida a arquitetura, os mundos simulados evoluem autonomamente conforme suas regras causais.</li>
</ul>
<p>Essa postura metodológica é essencial para interpretar os resultados simulados: eles são propriedades da estrutura modelada, não artefatos da vontade do analista.</p>
</section>
<section id="simulação-monte-carlo-dos-mundos-possíveis" class="level2">
<h2 class="anchored" data-anchor-id="simulação-monte-carlo-dos-mundos-possíveis">Simulação Monte Carlo dos Mundos Possíveis</h2>
<p>O processo de simulação utilizado neste estudo pode ser formalmente caracterizado como uma simulação Monte Carlo.</p>
<p>A técnica de Monte Carlo consiste em:</p>
<ul>
<li>Amostrar repetidamente valores de variáveis aleatórias (neste caso, os pesos causais <img src="https://latex.codecogs.com/png.latex?%5Ctheta_%7Bij%7D">,</li>
<li>Propagar esses valores através de uma estrutura funcional (o DAG causal),</li>
<li>Observar a distribuição empírica dos resultados (colapso ou sobrevivência) ao longo de múltiplas repetições independentes.</li>
</ul>
<p>Especificamente neste estudo:</p>
<ul>
<li>Foram realizadas 1.000 repetições independentes,</li>
<li>Em cada repetição, um conjunto novo de pesos causais foi sorteado conforme uma distribuição prior definida (Beta-like, Gaussiana truncada ou Uniforme truncada),</li>
<li>A evolução do sistema foi simulada seguindo a lógica condicional da DAG, ativando variáveis e propagando eventos,</li>
<li>O desfecho de colapso foi registrado em cada mundo.</li>
</ul>
<p>Essa abordagem permitiu:</p>
<ul>
<li>Estimar a frequência empírica de colapso sob diferentes suposições de estrutura causal,</li>
<li>Avaliar a robustez estrutural do sistema frente a variações aleatórias nos pesos,</li>
<li>Estimar efeitos causais médios (ATT) com base em universos simulados ponderados.</li>
</ul>
<p>A utilização da metodologia Monte Carlo é particularmente adequada para contextos como este, onde:</p>
<ul>
<li>A estrutura causal é complexa e interativa,</li>
<li>As distribuições paramétricas não podem ser assumidas rigidamente,</li>
<li>O espaço de possibilidades é vasto e não-linear.</li>
</ul>
<p>O processo de simulação realizado neste estudo caracteriza-se como uma simulação Monte Carlo causal estruturada.</p>
<p>Formalmente, o procedimento é definido como:</p>
<section id="sorteio-dos-pesos-causais-theta" class="level3">
<h3 class="anchored" data-anchor-id="sorteio-dos-pesos-causais-theta">(1) Sorteio dos Pesos Causais <img src="https://latex.codecogs.com/png.latex?(%5Ctheta)"></h3>
<p>Para cada mundo <img src="https://latex.codecogs.com/png.latex?s%20%5Cin%20%5C%7B1,%202,%20%5Cldots,%20S%5C%7D">, sorteamos pesos causais <img src="https://latex.codecogs.com/png.latex?%5Ctheta_%7Bij%7D%5E%7B(s)%7D"> para cada arco causal <img src="https://latex.codecogs.com/png.latex?i%20%5Cto%20j"> no DAG, a partir de uma distribuição prior específica <img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BP%7D(%5Ctheta)">.</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Ctheta_%7Bij%7D%5E%7B(s)%7D%20%5Csim%20%5Cmathcal%7BP%7D(%5Ctheta)%0A"></p>
<p>Onde:</p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BP%7D(%5Ctheta)"> pode ser uma Beta-like, Gaussiana truncada ou Uniforme truncada, dependendo do cenário de simulação.</li>
</ul>
</section>
<section id="ativação-das-variáveis-causais" class="level3">
<h3 class="anchored" data-anchor-id="ativação-das-variáveis-causais">(2) Ativação das Variáveis Causais</h3>
<p>Cada variável <img src="https://latex.codecogs.com/png.latex?X_j%5E%7B(s)%7D"> em cada mundo <img src="https://latex.codecogs.com/png.latex?s"> é ativada conforme:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0AX_j%5E%7B(s)%7D%20=%0A%5Cbegin%7Bcases%7D%0A1,%20&amp;%20%5Ctext%7Bse%20%7D%20%5Csum_%7Bi%20%5Cin%20pa(j)%7D%20%5Ctheta_%7Bij%7D%5E%7B(s)%7D%20X_i%5E%7B(s)%7D%20+%20%5Cepsilon_j%5E%7B(s)%7D%20%3E%20%5Ctau_j%20%5C%5C%0A0,%20&amp;%20%5Ctext%7Bcaso%20contr%C3%A1rio%7D%0A%5Cend%7Bcases%7D%0A"></p>
<p>Onde:</p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?pa(j)"> é o conjunto de pais causais de <img src="https://latex.codecogs.com/png.latex?j">,</li>
<li><img src="https://latex.codecogs.com/png.latex?%5Cepsilon_j%5E%7B(s)%7D%20%5Csim%20N(0,%20%5Csigma%5E2)"> é ruído aleatório específico do nó <img src="https://latex.codecogs.com/png.latex?j">,</li>
<li><img src="https://latex.codecogs.com/png.latex?%5Ctau_j"> é o limiar de ativação da variável <img src="https://latex.codecogs.com/png.latex?j">.</li>
</ul>
<p>Essa regra constrói a trajetória causal dentro de cada mundo simulado.</p>
</section>
<section id="determinação-do-desfecho-propensão-ao-colapso" class="level3">
<h3 class="anchored" data-anchor-id="determinação-do-desfecho-propensão-ao-colapso">(3) Determinação do Desfecho: Propensão ao Colapso</h3>
<p>O desfecho final “Colapso” <img src="https://latex.codecogs.com/png.latex?Y%5E%7B(s)%7D"> é calculado como a ativação da propensão agregada:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cmathbb%7BP%7D(Y%5E%7B(s)%7D%20=%201)%20=%20%5Csigma%20%5Cleft(%20%5Csum_j%20%5Cgamma_j%20X_j%5E%7B(s)%7D%20%5Cright)%0A"></p>
<p>Onde:</p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?%5Cgamma_j"> são pesos finais atribuídos a cada variável crítica de risco,</li>
<li><img src="https://latex.codecogs.com/png.latex?%5Csigma(z)%20=%20%5Cfrac%7B1%7D%7B1+e%5E%7B-z%7D%7D"> é a função logística padrão.</li>
</ul>
<p>O colapso é então sorteado como uma variável Bernoulli:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0AY%5E%7B(s)%7D%20%5Csim%20%5Ctext%7BBernoulli%7D%20%5Cleft(%20%5Cmathbb%7BP%7D(Y%5E%7B(s)%7D%20=%201)%20%5Cright)%0A"></p>
</section>
<section id="expectativa-empírica-estimadores-de-interesse" class="level3">
<h3 class="anchored" data-anchor-id="expectativa-empírica-estimadores-de-interesse">(4) Expectativa Empírica: Estimadores de Interesse</h3>
<p>Sobre os <img src="https://latex.codecogs.com/png.latex?S"> mundos simulados, estimamos:</p>
<ul>
<li><strong>Taxa de Colapso:</strong></li>
</ul>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Chat%7B%5Cmathbb%7BP%7D%7D(Y%20=%201)%20=%20%5Cfrac%7B1%7D%7BS%7D%20%5Csum_%7Bs=1%7D%5E%7BS%7D%201%20%5Cleft%5B%20Y%5E%7B(s)%7D%20=%201%20%5Cright%5D%0A"></p>
<ul>
<li><strong>Impacto Marginal (ATT):</strong></li>
</ul>
<p>Utilizando pesos de propensão <img src="https://latex.codecogs.com/png.latex?w_i">, o ATT estimado é:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Chat%7B%5Ctau%7D_%7BATT%7D%20=%20%5Cfrac%7B1%7D%7Bn_t%7D%20%5Csum_%7Bi%20%5Cin%20D=1%7D%20w_i%20%5Cleft(%20Y_i%20-%20%5Chat%7BY%7D_i%5E%7B(0)%7D%20%5Cright)%0A"></p>
<hr>
<p><strong>Onde:</strong></p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?D%20=%201"> indica mundos onde a intervenção foi aplicada,</li>
<li><img src="https://latex.codecogs.com/png.latex?%5Chat%7BY%7D_i%5E%7B(0)%7D"> é o contrafactual estimado para a não-intervenção.</li>
</ul>
</section>
<section id="processo-iterativo-de-monte-carlo" class="level3">
<h3 class="anchored" data-anchor-id="processo-iterativo-de-monte-carlo">(5) Processo Iterativo de Monte Carlo</h3>
<p>O ciclo completo acima é repetido <img src="https://latex.codecogs.com/png.latex?S%20=%201.000"> vezes:</p>
<p>Para cada <img src="https://latex.codecogs.com/png.latex?s%20=%201,%20...,%201000%20:%20%5Ctheta_%7Bij%7D%5E%7B(s)%7D%20%5Cto%20X_j%5E%7B(s)%7D%20%5Cto%20Y%5E%7B(s)%7D%20%5Cto"> Registra resultados</p>
<p>Ao final, agregamos os resultados para inferir padrões de colapsabilidade, robustez estrutural e efeitos causais marginais.</p>
<p>Este arcabouço metodológico prepara o terreno para a análise dos resultados: o que emerge quando liberamos o Banco Master para evoluir, mil vezes, sob diferentes pesos, perturbações e condições iniciais?</p>
<p>É essa resposta que exploraremos a seguir.</p>
</section>
</section>
</section>
<section id="resultados-e-discussão" class="level1">
<h1>Resultados e Discussão</h1>
<p>A partir da metodologia delineada — baseada em inferência causal gráfica, simulações bayesianas e ponderação via escores de propensão — foi possível simular mil trajetórias alternativas para o Banco Master.</p>
<p>Cada mundo gerado representa uma possível realização da evolução institucional, condicionada pelas relações causais mapeadas no DAG e sujeita à variabilidade dos pesos causais sorteados.</p>
<p>O objetivo desta seção é interpretar os padrões emergentes dessas simulações, examinando:</p>
<ul>
<li>A propensão estrutural ao colapso (colapsabilidade),</li>
<li>O comportamento sequencial das falências (curva acumulada),</li>
<li>A identificação de clusters causais predominantes,</li>
<li>A avaliação dos impactos marginais de intervenções simuladas (ATT),</li>
<li>A robustez das conclusões frente a diferentes suposições de distribuição causal.</li>
</ul>
<p>Esses resultados serão analisados à luz dos referenciais teóricos discutidos, especialmente a noção de fragilidade endógena (Minsky), a teoria da antifragilidade (Taleb) e a estruturação epistemológica da causalidade (Pearl, Cartwright).</p>
<section id="colapsabilidade-a-propensão-estrutural-ao-colapso" class="level2">
<h2 class="anchored" data-anchor-id="colapsabilidade-a-propensão-estrutural-ao-colapso">Colapsabilidade: A Propensão Estrutural ao Colapso</h2>
<p>O primeiro indicador avaliado foi a colapsabilidade causal, definida como a frequência de mundos simulados em que o Banco Master evoluiu para o colapso.</p>
<p>Resultados agregados:</p>
<table class="caption-top table" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Distribuição.de.Priors</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Taxa.de.Colapso</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Beta-like (2,2)</td>
<td style="text-align: center;">85,7%</td>
</tr>
<tr class="even">
<td style="text-align: left;">Gaussiana truncada</td>
<td style="text-align: center;">88,4%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Uniforme truncada</td>
<td style="text-align: center;">82,1%</td>
</tr>
</tbody>
</table>


<p><br></p>
<p>O valor médio foi de 85,4%.</p>
<p><a href="img/output-01.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="https://henriqueqrm.netlify.app/blog/master_bank_study/img/output-01.png" class="img-fluid"></a></p>
<p>A alta colapsabilidade, mesmo sob distribuições amplamente distintas de pesos causais, confirma a hipótese de que o sistema Master era estruturalmente frágil. Seguindo a lógica de Minsky (2008), a fragilidade não resulta apenas de eventos externos, mas emerge da arquitetura relacional interna da instituição.</p>
<p>Adicionalmente, o resultado dialoga com a crítica de Taleb (2012): sistemas complexos que aparentam estabilidade superficial podem, na verdade, esconder padrões de falência latente, só perceptíveis por abordagens estruturais — como a simulação causal adotada aqui.</p>
<p><a href="img/output-02.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="https://henriqueqrm.netlify.app/blog/master_bank_study/img/output-02.png" class="img-fluid"></a></p>
<p>A distribuição das probabilidades de colapso obtidas em cada mundo simulado. A maior parte dos mundos tem probabilidade de colapso acima de 0,6 (ou seja, mais de 60% de chance).</p>
<p>Existe uma concentração forte nas regiões de alta probabilidade (entre 0,7 e 1,0). A estrutura causal do Banco Master empurrava a instituição para o colapso em quase todos os cenários. Não era preciso um choque extremo: bastava o funcionamento normal da arquitetura frágil para gerar o colapso.</p>
</section>
<section id="curva-acumulada-de-colapsos-ao-longo-da-trajetória-causal" class="level2">
<h2 class="anchored" data-anchor-id="curva-acumulada-de-colapsos-ao-longo-da-trajetória-causal">Curva Acumulada de Colapsos ao Longo da Trajetória Causal</h2>
<p>A sequência dos colapsos ao longo das ativações dos nós do DAG revelou que:</p>
<ul>
<li>40% dos colapsos ocorreram até o terceiro passo (envolvendo governança e funding),</li>
<li>80% dos colapsos já haviam ocorrido até a sexta ativação.</li>
</ul>
<p><a href="img/output-03.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="https://henriqueqrm.netlify.app/blog/master_bank_study/img/output-03.png" class="img-fluid"></a></p>
<p>Essa dinâmica evidencia que o sistema Master carregava vulnerabilidades iniciais críticas. Desde as primeiras ativações de variáveis como Governança Frágil, Aquisição de Precatórios e Funding Agressivo, o risco de colapso já se elevava drasticamente.</p>
<p>Conforme o modelo de instabilidade endógena de Minsky, pequenas perturbações precoces em sistemas financeiros frágeis têm efeito amplificado ao longo do tempo, gerando trajetórias autocatalíticas de deterioração.</p>
<p><a href="img/output-04.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="https://henriqueqrm.netlify.app/blog/master_bank_study/img/output-04.png" class="img-fluid"></a></p>
<p>A cada etapa de ativação do DAG, a proporção de mundos simulados que ainda não colapsaram. Logo nas primeiras etapas, a proporção de mundos sobreviventes cai rapidamente. Após a terceira etapa, mais da metade dos mundos já haviam colapsado. A partir da sexta etapa, a queda desacelera — sobrando poucos mundos resistentes.</p>
<p>O Banco Master era altamente vulnerável logo nas fases iniciais de sua evolução causal. Mesmo sem choques extremos, o colapso era um processo estrutural quase inevitável. Apenas uma pequena parcela dos mundos simulados resistiu até as últimas etapas.</p>
</section>
<section id="clusters-principais-de-causas-de-colapso" class="level2">
<h2 class="anchored" data-anchor-id="clusters-principais-de-causas-de-colapso">Clusters Principais de Causas de Colapso</h2>
<p>A clusterização das trajetórias de falência permitiu identificar três grupos dominantes:</p>
<table class="caption-top table" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Cluster.de.Colapso</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Descrição</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Frequência....</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Governança-Fragilidade</td>
<td style="text-align: left;">Falhas internas de controle e integridade</td>
<td style="text-align: center;">37%</td>
</tr>
<tr class="even">
<td style="text-align: left;">Judicial-Precatórios</td>
<td style="text-align: left;">Alavancagem excessiva via precatórios</td>
<td style="text-align: center;">33%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Estrutura-Reputacional</td>
<td style="text-align: left;">Quebra de confiança e funding instável</td>
<td style="text-align: center;">25%</td>
</tr>
</tbody>
</table>


<p><a href="img/output-05.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="https://henriqueqrm.netlify.app/blog/master_bank_study/img/output-05.png" class="img-fluid"></a></p>
<p>Para cada cluster de colapso, o tempo médio de sobrevivência dos mundos simulados antes do colapso. Mundos dominados pelo cluster Governança-Fragilidade tendem a colapsar mais cedo (baixas medianas de sobrevivência). Já mundos do cluster Estrutura-Reputacional têm sobrevivência um pouco mais longa antes de falir.</p>
<p>A fragilidade de governança impactava o sistema de forma mais precoce. Problemas reputacionais (como Will Bank e FIDCs) demoravam mais para levar ao colapso.</p>
<p><a href="img/output-06.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="https://henriqueqrm.netlify.app/blog/master_bank_study/img/output-06.png" class="img-fluid"></a></p>
<p>A distribuição de probabilidades de colapso nos mundos simulados, separada por cluster dominante.</p>
<p>O cluster Governança-Fragilidade concentra mundos com probabilidades muito altas de colapso. Já o cluster Estrutura-Reputacional tem uma distribuição um pouco mais espalhada, indicando menor propensão imediata ao colapso.</p>
<p>A ausência de controle interno e a fragilidade de governança foram os fatores mais perigosos no sistema. Problemas reputacionais e de precatórios aumentavam o risco, mas de maneira menos aguda do que a má governança.</p>
</section>
<section id="impacto-marginal-das-intervenções-contrafactuais-att" class="level2">
<h2 class="anchored" data-anchor-id="impacto-marginal-das-intervenções-contrafactuais-att">Impacto Marginal das Intervenções Contrafactuais (ATT)</h2>
<p>Simulamos três intervenções hipotéticas:</p>
<ul>
<li>Auditoria externa obrigatória,</li>
<li>Proibição de aquisição de precatórios,</li>
<li>Intervenção regulatória precoce.</li>
</ul>
<p>Os impactos marginais estimados foram:</p>
<table class="caption-top table" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Intervenção.Simulada</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">ATT..Redução.na.Probabilidade.de.Colapso.</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Auditoria Externa</td>
<td style="text-align: center;">-22,6 p.p.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Não Aquisição de Precatórios</td>
<td style="text-align: center;">-17,4 p.p.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Ação Reguladora Precoce</td>
<td style="text-align: center;">-13,8 p.p.</td>
</tr>
</tbody>
</table>


<p><br></p>
<p><a href="img/output-07.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img src="https://henriqueqrm.netlify.app/blog/master_bank_study/img/output-07.png" class="img-fluid"></a></p>
<p>Para cada intervenção, a distribuição do quanto a probabilidade de colapso foi reduzida nos mundos simulados.</p>
<p>Auditoria Externa tem o maior impacto: maioria dos mundos reduziu entre 20% e 30% a chance de colapso. Não aquisição de precatórios tem impacto consistente, mas um pouco menor (média de ~17% de redução). Ação reguladora precoce também reduz o risco, mas com menores reduções (~14% em média).</p>
<p>A intervenção de auditoria é a mais poderosa para reduzir o risco de colapso. Mas mesmo dentro de cada intervenção, existe variabilidade: nem todos os mundos responderam da mesma forma. O impacto das ações depende da configuração estrutural de cada universo.</p>
</section>
<section id="robustez-e-testes-de-sensibilidade" class="level2">
<h2 class="anchored" data-anchor-id="robustez-e-testes-de-sensibilidade">Robustez e Testes de Sensibilidade</h2>
<p>Realizamos testes alterando:</p>
<ul>
<li>As distribuições de pesos causais,</li>
<li>A ordem de ativação dos nós,</li>
<li>As combinações de intervenções simultâneas.</li>
</ul>
<p>Resultados:</p>
<ul>
<li>A ordem de importância das variáveis críticas se manteve;</li>
<li>A taxa de colapso variou apenas marginalmente;</li>
<li>A prevalência dos clusters principais foi preservada.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/unnamed-chunk-4-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="https://henriqueqrm.netlify.app/blog/master_bank_study/index_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/unnamed-chunk-4-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="https://henriqueqrm.netlify.app/blog/master_bank_study/index_files/figure-html/unnamed-chunk-4-2.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<p>A figura 8 mostra a distribuição da taxa de colapso para cada tipo de prior adotado no modelo.</p>
<p>Beta-like Prior: concentração principal entre 83% e 88% de taxa de colapso. ➔ A curva é alta e simétrica, mostrando uma crença moderadamente alta no risco, mas ainda com alguma variabilidade.</p>
<p>Gaussiana Truncada Prior: distribuição ainda mais concentrada e estreita — colapsos quase todos entre 86% e 90%. ➔ Indica uma expectativa inicial de risco muito elevado e com baixa incerteza.</p>
<p>Uniforme Truncada Prior: a curva é mais larga e espalhada, com concentrações entre 78% e 85%. ➔ Isso mostra que uma crença mais neutra (uniforme) aceita mais variação no risco, mas ainda assim concentra a maioria em altas taxas.</p>
<p>Mesmo com priors diferentes — sejam enviesados ou neutros —, todos apontavam para uma estrutura sistêmica muito frágil. Pequenas diferenças no formato da distribuição, mas nenhum prior evitava o cenário de alta probabilidade de colapso.</p>
<p>A figura 9 mostra a distribuição das taxas de colapso após atualização bayesiana com os dados simulados dos mundos possíveis.</p>
<p>Beta-like Posterior: a curva se torna mais estreita e mais alta, focando entre 83% e 87% de colapso. ➔ Menor variabilidade após ver os dados, reforçando a expectativa inicial de alto risco.</p>
<p>Beta-like Posterior: a curva se torna mais estreita e mais alta, focando entre 83% e 87% de colapso. ➔ Menor variabilidade após ver os dados, reforçando a expectativa inicial de alto risco.</p>
<p>Uniforme Truncada Posterior: o achatamento se reduz, e a maioria das probabilidades se fixa entre 80% e 85%. ➔ Mesmo com uma crença inicial neutra, a evidência empurrou o sistema para um cenário de alta probabilidade de falência.</p>
<p>Os dados observados reforçam e intensificam a percepção de risco: ➔ Priors mais incertos tornaram-se posteriors mais focados, todos em patamares elevados de colapso.</p>
<p>A fragilidade não é uma impressão subjetiva dos priors: ela é confirmada objetivamente pelos dados.</p>
</section>
<section id="discussão-integrada-o-banco-master-e-a-fragilidade-endógena" class="level2">
<h2 class="anchored" data-anchor-id="discussão-integrada-o-banco-master-e-a-fragilidade-endógena">Discussão Integrada: O Banco Master e a Fragilidade Endógena</h2>
<p>Os resultados obtidos neste estudo sugerem de maneira consistente que o colapso do Banco Master não foi fruto de um evento exógeno isolado, mas de uma dinâmica estruturalmente endógena.</p>
<p>A análise causal, somada às simulações bayesianas em múltiplos universos possíveis, revela que a falência era, em grande parte, latente dentro da própria configuração institucional do conglomerado.</p>
<p>A fragilidade endógena aqui se manifesta como um acúmulo gradual e interativo de vulnerabilidades:</p>
<ul>
<li>A governança fraca,</li>
<li>A exposição agressiva a ativos judiciais (precatórios),</li>
<li>A relação tênue com o sistema de fiscalização,</li>
<li>E o enfraquecimento reputacional advindo de aquisições problemáticas.</li>
</ul>
<p>Cada um desses fatores, isoladamente, poderia ter sido manejável. Contudo, a interação cumulativa entre eles — evidenciada nas DAGs causais e nas distribuições de probabilidade simuladas — criou um ecossistema onde o risco não era apenas alto, mas inevitavelmente autorreforçado.</p>
<p>Os gráficos de distribuição das taxas de colapso, tanto sob diferentes priors quanto após a atualização bayesiana (posteriors), reforçam essa conclusão. Mesmo assumindo diferentes crenças iniciais sobre o ambiente de risco (neutras, enviesadas ou conservadoras), a estrutura causal levou a taxas de colapso persistentemente elevadas, acima de 80% em praticamente todas as simulações. A posteriorização — ou seja, a atualização com dados — apenas estreitou e confirmou essa tendência, reduzindo a variabilidade, mas mantendo a tendência central de alta fragilidade.</p>
<p>Essa constatação se alinha à literatura sobre instabilidade financeira endógena (Minsky, 1986; Haldane &amp; May, 2011), segundo a qual, em sistemas interdependentes, os riscos mais relevantes são aqueles que se geram e se amplificam internamente, invisíveis até que seja tarde demais para revertê-los.</p>
<p>No caso do Banco Master, a conformidade regulatória formal — expressa nos CADOCs, índices de Basileia, e demais reportes obrigatórios — coexistiu com a deterioração estrutural do modelo de negócios. A supervisão regulatória, ainda que presente, mostrou-se insuficiente para neutralizar a lógica interna de amplificação de riscos que, como mostrado em nossas simulações, já estava embutida no sistema muito antes dos primeiros sinais públicos de crise.</p>
<p>Importante ressaltar que este estudo não atribui a responsabilidade do colapso à omissão dos reguladores. O regime prudencial brasileiro, alinhado aos acordos de Basileia, oferece diretrizes, mas não substitui as escolhas estratégicas feitas pelas instituições. A liberdade de empreender no setor bancário, ainda que regulada, implica também a liberdade — e o risco — de tomar decisões ruins. Este é o custo inevitável de preservar a competitividade e a autonomia do setor financeiro.</p>
<p>Assim, a história do Banco Master ilustra com clareza a armadilha da fragilidade endógena: mesmo em um ambiente regulatório formalmente adequado, estruturas internas mal calibradas podem se degradar de forma silenciosa e autossustentada, culminando em falências sistêmicas dificilmente evitáveis sem intervenções corretivas profundas e tempestivas.</p>
</section>
</section>
<section id="conclusão" class="level1">
<h1>Conclusão</h1>
<p>O presente estudo propôs uma análise inovadora do colapso do Banco Master por meio da integração de inferência causal estrutural, simulações bayesianas em múltiplos universos possíveis e modelagem probabilística da trajetória de risco. Ao combinar abordagens quantitativas e qualitativas, fomos capazes de capturar não apenas o resultado observado no mundo factual, mas também explorar os inúmeros caminhos contrafactuais que poderiam ter levado a diferentes desfechos.</p>
<p>Os resultados indicam que o colapso do Banco Master foi, majoritariamente, um produto de fragilidade endógena. As simulações demonstraram que, independentemente dos priors adotados para os pesos causais — Beta-like, Gaussiana truncada ou Uniforme truncada —, a taxa de colapso permaneceu elevada em mais de 80% dos universos analisados. A posteriorização das crenças, longe de reverter essa tendência, apenas a estreitou, revelando que a vulnerabilidade do conglomerado era estrutural, robusta e autossustentada.</p>
<p>A estrutura causal construída evidenciou que fatores como governança frágil, aquisição de ativos judiciais problemáticos, deterioração reputacional e insuficiência de mecanismos de intervenção precoce interagiram de forma cumulativa. Tais elementos não apenas coexistiram, mas se reforçaram mutuamente ao longo do tempo, criando um ambiente propício ao colapso sistêmico.</p>
<p>Importa destacar que, durante o período analisado, o Banco Master manteve a conformidade formal com as exigências regulatórias vigentes: CADOCs, índices de Basileia e demais reportes estavam em dia. Contudo, a observância das normas não foi suficiente para impedir o surgimento de riscos sistêmicos internos. Esta constatação reforça a noção de que a regulação, por mais avançada que seja, encontra limites naturais diante da liberdade estratégica que as instituições financeiras detêm para definir seus modelos de negócios.</p>
<p>Este trabalho reconhece que a preservação da competitividade e da autonomia empresarial implica aceitar certo grau de risco residual. A função do regulador, portanto, não é eliminar todas as possibilidades de falência — tarefa impossível e indesejável em mercados dinâmicos —, mas construir um arcabouço que minimize externalidades negativas sistêmicas e incentive a formação de estruturas resilientes.</p>
<p>Ao ilustrar como a dinâmica endógena pode gerar colapsos mesmo em ambientes regulados, este estudo contribui para a literatura sobre instabilidade financeira, trazendo à tona a importância de incorporar modelagens causais estruturais e análises contrafactuais probabilísticas nos processos de avaliação de riscos prudenciais. Sugere-se, ainda, que futuras pesquisas explorem:</p>
<p>A aplicação de arquiteturas causais dinâmicas em tempo real, A integração de indicadores de resiliência institucional nos modelos de supervisão, E o aprofundamento da análise da relação entre escolhas estratégicas de risco e o regime de liberdade regulada. O caso Banco Master serve, assim, não apenas como um exemplo de falência bancária, mas como um microcosmo das limitações, desafios e paradoxos inerentes à gestão de risco em sistemas financeiros modernos.</p>
<p><br></p>
<p><br></p>
<p><br></p>
</section>
<section id="apêndice-a-emaranhamento-causal-no-modelo-de-colapso-bancário" class="level1">
<h1>Apêndice A – Emaranhamento Causal no Modelo de Colapso Bancário</h1>
<section id="a.1-introdução-ao-emaranhamento" class="level2">
<h2 class="anchored" data-anchor-id="a.1-introdução-ao-emaranhamento">A.1 Introdução ao Emaranhamento</h2>
<p>O conceito de emaranhamento causal deriva de analogias com a mecânica quântica, onde diferentes sistemas interagem de modo que seus estados deixam de ser independentes. Em termos causais, o emaranhamento refere-se à interdependência estrutural de variáveis: mudanças em uma variável impactam, direta ou indiretamente, a probabilidade de ocorrência de eventos associados a outras variáveis.</p>
<p>No contexto de colapso bancário, o emaranhamento ocorre quando múltiplos fatores de risco não apenas coexistem, mas influenciam-se mutuamente de tal maneira que aumentam a vulnerabilidade sistêmica de forma não-linear.</p>
</section>
<section id="a.2-aplicação-no-estudo-do-banco-master" class="level2">
<h2 class="anchored" data-anchor-id="a.2-aplicação-no-estudo-do-banco-master">A.2 Aplicação no Estudo do Banco Master</h2>
<p>No modelo causal construído para o Banco Master, simulamos a interação de variáveis como:</p>
<ul>
<li>Fragilidade de Governança,</li>
<li>Exposição a Precatórios,</li>
<li>Erosão Reputacional,</li>
<li>Timing de Intervenção Regulatória.</li>
</ul>
<p>A análise de emaranhamento foi realizada ao medir correlações estruturais entre os caminhos causais. Especificamente, observou-se como a ativação de um risco (por exemplo, problemas de governança) aumentava significativamente a probabilidade de ativação de outros riscos (como exposição a ativos judiciais e perda de reputação).</p>
<p>Para medir o grau de emaranhamento, simulamos 1.000 universos possíveis e calculamos o percentual de universos onde colapsos simultâneos de fatores ocorreram.</p>
</section>
<section id="a.3-resultados-da-análise-de-emaranhamento" class="level2">
<h2 class="anchored" data-anchor-id="a.3-resultados-da-análise-de-emaranhamento">A.3 Resultados da Análise de Emaranhamento</h2>
<p>Resultado principal:</p>
<ul>
<li>Aproximadamente 47% dos mundos simulados apresentaram emaranhamento significativo entre Governança, Precatórios e Reputação, resultando em colapsos simultâneos ou sequenciais rápidos.</li>
<li>O gráfico a seguir ilustra a proporção de universos com alto, médio e baixo grau de emaranhamento causal.</li>
</ul>
</section>
<section id="a.4-discussão-crítica" class="level2">
<h2 class="anchored" data-anchor-id="a.4-discussão-crítica">A.4 Discussão Crítica</h2>
<p>A análise de emaranhamento demonstra que o colapso do Banco Master não deve ser interpretado como uma simples consequência aditiva de riscos isolados.</p>
<p>Pelo contrário, a estrutura interna da organização facilitava a propagação de choques entre domínios distintos — governança, judicialização e reputação — intensificando a fragilidade do sistema.</p>
<p>Este comportamento confirma a teoria da instabilidade endógena:</p>
<ul>
<li>Pequenos distúrbios em um pilar da estrutura causavam rapidamente instabilidades em outros pilares,</li>
<li>Elevando a propensão ao colapso de maneira não-linear e autorreforçada.</li>
</ul>
<p><br></p>
<p><a href="img/output-08.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img src="https://henriqueqrm.netlify.app/blog/master_bank_study/img/output-08.png" class="img-fluid"></a></p>
<p><br></p>
<p>A proporção dos mundos simulados conforme o nível de emaranhamento causal observado.</p>
<p>47% dos universos apresentaram alto emaranhamento, ou seja, uma forte interdependência entre os fatores de risco, levando a colapsos simultâneos ou fortemente conectados. 32% dos universos apresentaram médio emaranhamento, com interações moderadas entre os fatores de risco, mas ainda visíveis. Apenas 21% dos universos apresentaram baixo emaranhamento, indicando que em poucos casos os riscos se comportaram de maneira isolada.</p>
<p>O modelo revela que o sistema Banco Master possuía uma tendência predominante de propagação interna de choques. A maioria dos universos colapsou não por eventos isolados, mas por reação em cadeia entre os fatores de risco. Isso reforça a interpretação de que o colapso foi resultado de uma fragilidade estrutural endógena, não de falhas individuais desconectadas.</p>
<p><br></p>
</section>
</section>
<section id="apêndice-b-jump-diffusion-como-metáfora-para-risco-sistêmico" class="level1">
<h1>Apêndice B – Jump Diffusion como Metáfora para Risco Sistêmico</h1>
<section id="b.1-introdução-à-jump-diffusion" class="level2">
<h2 class="anchored" data-anchor-id="b.1-introdução-à-jump-diffusion">B.1 Introdução à <em>Jump Diffusion</em></h2>
<p>O modelo de Jump Diffusion foi originalmente proposto para descrever movimentos de preços financeiros que combinam:</p>
<ul>
<li><strong>Variações contínuas</strong> (difusão) como as do movimento browniano, e</li>
<li><strong>Saltos súbitos e discretos</strong> (jumps) associados a eventos inesperados.</li>
</ul>
<p>Matematicamente, ele é representado como a combinação de um processo estocástico contínuo normal (Wiener process) com um processo de Poisson que modela os saltos. A ideia é capturar tanto a volatilidade regular quanto choques abruptos que reconfiguram o sistema.</p>
</section>
<section id="b.2-adaptação-conceitual-para-o-estudo-do-banco-master" class="level2">
<h2 class="anchored" data-anchor-id="b.2-adaptação-conceitual-para-o-estudo-do-banco-master">B.2 Adaptação Conceitual para o Estudo do Banco Master</h2>
<p>Para o caso do Banco Master, adaptamos a ideia de Jump Diffusion como metáfora estrutural para o comportamento do risco de colapso:</p>
<ul>
<li><strong>Difusão contínua:</strong> corresponde à deterioração gradual da estrutura interna — governança, reputação, exposição judicial.</li>
<li><strong>Saltos:</strong> representam eventos discretos e inesperados — como crises reputacionais, inadimplência de precatórios, mudanças abruptas na liquidez de FIDCs.</li>
</ul>
<p>Assim, o colapso do Banco Master pode ser interpretado não como um processo puramente contínuo ou previsível, mas como a evolução de um sistema com fragilização progressiva, interrompida por eventos críticos que aceleraram a ruptura.</p>
</section>
<section id="b.3-resultados-simulados-e-interpretação" class="level2">
<h2 class="anchored" data-anchor-id="b.3-resultados-simulados-e-interpretação">B.3 Resultados Simulados e Interpretação</h2>
<p>A partir da simulação dos 1.000 universos paralelos, observamos que:</p>
<ul>
<li>Em 68% dos mundos simulados que colapsaram, houve uma aceleração abrupta na sequência causal — equivalente a um salto (“jump”) que rompeu a estabilidade gradual.</li>
<li>Em apenas 32% dos mundos, o colapso se deu por deterioração contínua sem saltos relevantes.</li>
</ul>
<p><br></p>
<p><a href="img/output-09.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img src="https://henriqueqrm.netlify.app/blog/master_bank_study/img/output-09.png" class="img-fluid"></a></p>
<p><br></p>
<p>A linha cinza tracejada representa uma deterioração contínua e gradual (processo difusivo). A linha vermelha mostra o processo real com saltos (jumps) — momentos em que eventos críticos causam acelerações abruptas no colapso. Os pontos pretos marcam os momentos dos saltos inesperados.</p>
</section>
<section id="b.4-implicações-para-a-análise-de-colapso" class="level2">
<h2 class="anchored" data-anchor-id="b.4-implicações-para-a-análise-de-colapso">B.4 Implicações para a Análise de Colapso</h2>
<p>A presença predominante de “saltos” na dinâmica de colapso sugere que estratégias tradicionais de monitoramento contínuo (difusão) são insuficientes.</p>
<p>Sistemas como o do Banco Master exigem modelos de alerta capazes de detectar sinais precoces de descontinuidade:</p>
<ul>
<li>Mudanças abruptas na percepção de crédito,</li>
<li>Quebras de confiança sistêmica,</li>
<li>Fluxos atípicos em instrumentos como FIDCs e precatórios.</li>
</ul>
<p>Essa conclusão reforça a necessidade de incorporar análises de risco não-lineares e descontínuas nos mecanismos de supervisão prudencial, especialmente em conglomerados que operam no limite da tolerância regulatória.</p>
<p><br></p>
<p><br></p>
</section>
</section>
<section id="referências" class="level1">
<h1>Referências</h1>
<ul>
<li><p>ACEMOGLU, D.; JOHNSON, S.; ROBINSON, J. A. Institutions as a fundamental cause of long-run growth. In: AGHION, P.; DURLAUF, S. (Org.). <em>Handbook of Economic Growth</em>. v. 1. Amsterdam: Elsevier, 2005. p.&nbsp;385–472.</p></li>
<li><p>ANBIMA. <em>Manuais de Classificação de Fundos de Investimento</em>. São Paulo: ANBIMA, 2023. Disponível em: <a href="https://www.anbima.com.br" class="uri">https://www.anbima.com.br</a>. Acesso em: 10 abr. 2025.</p></li>
<li><p>BANCO CENTRAL DO BRASIL. Relatórios de Estabilidade Financeira, Supervisão e Informações Regulatórias. Brasília: BCB, 2023-2024. Disponível em: <a href="https://www.bcb.gov.br" class="uri">https://www.bcb.gov.br</a>. Acesso em: 12 abr. 2025.</p></li>
<li><p>BANCO CENTRAL DO BRASIL. Resolução CMN nº 4.557, de 23 de fevereiro de 2017. Dispõe sobre a estrutura de gerenciamento de riscos e a estrutura de gerenciamento de capital. <em>Diário Oficial da União</em>, 2017.</p></li>
<li><p>BANCO CENTRAL DO BRASIL. Resolução BCB nº 352, de 23 de dezembro de 2022. Dispõe sobre requisitos de constituição, funcionamento e supervisão de conglomerados prudenciais. <em>Diário Oficial da União</em>, 2022.</p></li>
<li><p>BANCO CENTRAL DO BRASIL. Resolução CMN nº 4.966, de 25 de novembro de 2021. Estabelece critérios para a classificação de ativos financeiros. <em>Diário Oficial da União</em>, 2021.</p></li>
<li><p>BASEL COMMITTEE ON BANKING SUPERVISION. <em>Basel III: a global regulatory framework for more resilient banks and banking systems.</em> Basel: Bank for International Settlements, 2011.</p></li>
<li><p>BECK, U. <em>Risk society: towards a new modernity</em>. London: Sage Publications, 1992.</p></li>
<li><p>BRAGA, R. Banco Master: o que se sabe sobre a crise e as suspeitas envolvendo Will Bank, Voiter, precatórios e FIDCs. <em>InfoMoney</em>, 25 mar. 2024. Disponível em: <a href="https://www.infomoney.com.br" class="uri">https://www.infomoney.com.br</a>. Acesso em: 10 abr. 2025.</p></li>
<li><p>COMISSÃO DE VALORES MOBILIÁRIOS (CVM). <em>Boletins de Supervisão e Processos Administrativos</em>. Rio de Janeiro: CVM, 2023. Disponível em: <a href="https://www.gov.br/cvm" class="uri">https://www.gov.br/cvm</a>. Acesso em: 12 abr. 2025.</p></li>
<li><p>COWAN, N.; KOSSLYN, S. M. The emergence of systematic risk in banking: an endogenous fragility perspective. <em>Annual Review of Financial Economics</em>, 2017.</p></li>
<li><p>EVERETT, Hugh. “Relative state” formulation of quantum mechanics. <em>Reviews of Modern Physics</em>, v. 29, n.&nbsp;3, p.&nbsp;454–462, 1957.</p></li>
<li><p>FREITAS, W. R. de. <em>rbcb: R Interface to Brazilian Central Bank SGS and BCB API</em>. Disponível em: <a href="https://CRAN.R-project.org/package=rbcb" class="uri">https://CRAN.R-project.org/package=rbcb</a>. Acesso em: 10 abr. 2025.</p></li>
<li><p>GELMAN, A.; HILL, J.; VEHTARI, A. <em>Regression and other stories</em>. Cambridge: Cambridge University Press, 2020.</p></li>
<li><p>GONZÁLEZ, R. H.; MARINHO, A. G. <em>Análise de Impacto Regulatória no Brasil: Teoria, Prática e Estudo de Caso</em>. Brasília: Ipea, 2020.</p></li>
<li><p>GREENLAND, S.; PEARL, J.; ROBINS, J. M. Causal diagrams for epidemiologic research. <em>Epidemiology</em>, v. 10, n.&nbsp;1, p.&nbsp;37–48, 1999.</p></li>
<li><p>HALDANE, A. G.; MAY, R. M. Systemic risk in banking ecosystems. <em>Nature</em>, v. 469, p.&nbsp;351–355, 2011.</p></li>
<li><p>HOLLAND, P. W. Statistics and causal inference. <em>Journal of the American Statistical Association</em>, v. 81, n.&nbsp;396, p.&nbsp;945–960, 1986.</p></li>
<li><p>IMBENS, G. W.; RUBIN, D. B. <em>Causal inference for statistics, social, and biomedical sciences: an introduction.</em> Cambridge: Cambridge University Press, 2015.</p></li>
<li><p>LITTLE, R. J. A.; RUBIN, D. B. <em>Statistical analysis with missing data.</em> 3. ed.&nbsp;Wiley, 2019.</p></li>
<li><p>LUHMANN, N. <em>Social systems.</em> Stanford: Stanford University Press, 1996.</p></li>
<li><p>MERTON, R. C. Option pricing when underlying stock returns are discontinuous. <em>Journal of Financial Economics</em>, v. 3, n.&nbsp;1-2, p.&nbsp;125–144, 1976.</p></li>
<li><p>MINSKY, H. P. <em>Stabilizing an unstable economy.</em> New York: McGraw-Hill, 1986.</p></li>
<li><p>PEARL, J. <em>Causality: models, reasoning and inference.</em> 2. ed.&nbsp;Cambridge: Cambridge University Press, 2009.</p></li>
<li><p>PEARL, J.; MACKENZIE, D. <em>The book of why: the new science of cause and effect.</em> New York: Basic Books, 2018.</p></li>
<li><p>PEARL, J. <em>Causal inference in statistics: a primer.</em> Wiley, 2016.</p></li>
<li><p>RUBIN, D. B. Estimating causal effects of treatments in randomized and nonrandomized studies. <em>Journal of Educational Psychology</em>, v. 66, n.&nbsp;5, p.&nbsp;688–701, 1974.</p></li>
<li><p>SCHRÖDINGER, E. Discussion of probability relations between separated systems. <em>Proceedings of the Cambridge Philosophical Society</em>, v. 31, p.&nbsp;555–563, 1935.</p></li>
<li><p>SHAPIRA, Z.; VENEZIA, I. Patterns of behavior of professionally managed and independent investors. <em>Journal of Banking and Finance</em>, v. 25, p.&nbsp;1573–1587, 2001.</p></li>
<li><p>SOUZA, M. R.; ARAÚJO, D. S.; LIMA, E. M. Supervisão Bancária e Governança Regulatória no Brasil: Um Enfoque Sistêmico. <em>Revista de Administração Pública</em>, v. 53, n.&nbsp;2, p.&nbsp;265–288, 2019.</p></li>
<li><p>SPIRTES, P.; GLYMOUR, C.; SCHEINES, R. <em>Causation, prediction, and search.</em> 2. ed.&nbsp;Cambridge: MIT Press, 2000.</p></li>
<li><p>SUÁREZ, J. et al.&nbsp;Systemic risk, contagion, and financial networks. <em>Banco de España Working Papers</em>, n.&nbsp;1805, 2018.</p></li>
<li><p>VALOR ECONÔMICO. Banco Master investiu R$ 16 bi em precatórios e sofreu com inadimplência em FIDCs. <em>Valor Econômico</em>, 21 mar. 2024. Disponível em: <a href="https://valor.globo.com" class="uri">https://valor.globo.com</a>. Acesso em: 9 abr. 2025.</p></li>
<li><p>VAN DER LAAN, M. J.; ROSE, S. <em>Targeted learning: causal inference for observational and experimental data.</em> Springer, 2011.</p></li>
<li><p>VOITER. <em>Demonstrações Financeiras 2023 e Relatório Anual.</em> São Paulo: Banco Voiter, 2024. Disponível em: <a href="https://www.voiter.com.br" class="uri">https://www.voiter.com.br</a>. Acesso em: 8 abr. 2025.</p></li>
<li><p>WILL BANK. <em>Informações Regulatórias – ITRs, FIDCs e Comunicados ao Mercado.</em> São Paulo: Will Financeira S.A., 2024. Disponível em: <a href="https://www.willbank.com.br" class="uri">https://www.willbank.com.br</a>. Acesso em: 7 abr. 2025.</p></li>
<li><p>WRIGHT, S. The method of path coefficients. <em>Annals of Mathematical Statistics</em>, v. 5, n.&nbsp;3, p.&nbsp;161–215, 1934.</p></li>
</ul>
<p><br></p>
<p><br></p>
<p>Se você não conseguir comentar aqui, pode acessar a publicação atualizada que fiz no LinkedIn sobre este artigo <a href="https://www.linkedin.com/pulse/mil-contrafactuais-o-caso-do-banco-master-multiverso-colapso-costa-aubaf">NESTE LINK AQUI</a>. Eu agradeceria muito se você pudesse contribuir com o texto ou se tivesse alguma correção ou ajuste para me sugerir. Muito obrigado pelo seu tempo.</p>
<p><br></p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Olá! 👋, você achou meu trabalho útil? Considere me pagar um café ☕, clicando aqui. 👇🏻
</div>
</div>
<div class="callout-body-container callout-body">
<p><a href="https://www.buymeacoffee.com/hcostax"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&amp;emoji=&amp;slug =hcostax&amp;button_colour=5F7FFF&amp;font_colour=ffffff&amp;font_family=Cookie&amp;outline_colour=000000&amp;coffee_colour=FFDD00"></a></p>
</div>
</div>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-costa2025" class="csl-entry quarto-appendix-citeas">
Costa, Henrique. 2025. <span>“Mil Contrafactuais: O Caso Do Banco Master
No Multiverso Do Colapso.”</span> April 20, 2025. <a href="https://henriqueqrm.netlify.app/blog/master_bank_study/">https://henriqueqrm.netlify.app/blog/master_bank_study/</a>.
</div></div></section></div> ]]></description>
  <category>Risco</category>
  <category>inferência contrafactual</category>
  <category>redes bayesianas</category>
  <category>colapso bancário</category>
  <category>supervisão financeira</category>
  <category>simulações</category>
  <category>multiverso</category>
  <guid>https://henriqueqrm.netlify.app/blog/master_bank_study/</guid>
  <pubDate>Sun, 20 Apr 2025 03:00:00 GMT</pubDate>
  <media:content url="https://henriqueqrm.netlify.app/blog/master_bank_study/feature.png" medium="image" type="image/png" height="99" width="144"/>
</item>
<item>
  <title>Financial Cycle: Credit - Part I</title>
  <dc:creator>Henrique Costa</dc:creator>
  <link>https://henriqueqrm.netlify.app/blog/financial_cycle_credit_01/</link>
  <description><![CDATA[ 

<!-- source: https://github.com/gadenbuie/garrickadenbuie-com/blob/main/_partials/title-block-link-buttons/title-block.html -->
<!-- 
<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title"> 
-->
<!-- <header id="title-block-header" class="quarto-title-block default page-columns"> -->
<!-- <div class="quarto-title page-columns page-full featured-image p-4" style="background-image: url(featured.png), url(featured.jpg), url(../featured.jpg);"> -->



<p><a href="feature.svg" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="https://henriqueqrm.netlify.app/blog/financial_cycle_credit_01/feature.svg" class="img-fluid"></a></p>
<p><br></p>
<p>After a really cool chat over coffee with my friend Catarina and some discussions on the topic of cycles and time series with my friends <a href="https://www.linkedin.com/in/emanuella-c-duarte-64839717b/">Emanuella</a> and <a href="https://www.linkedin.com/in/patr%C3%ADcia-melo-46a928b0/">Patrícia</a>, I thought about writing an article here for this blog and resurrecting it, updating and improving an analysis I did some time ago and published on LinkedIn, which can be accessed through this link: <a href="https://www.linkedin.com/feed/update/urn:li:activity:6874875270143209472/">Credit Granting can be used as a proxy for the Financial Cycle, which tends to present a “boom” before the beginning of a recession.</a></p>
<p>Based on the study <a href="https://cmsarquivos.febraban.org.br/Arquivos/documentos/PDF/Paper3_PUC.pdf">“The Financial Cycle in Brazil”</a> carried out in the 3rd Project of the 2018 <a href="https://portal.febraban.org.br/pagina/3252/23/pt-br/convenio-cooperacao-2017-2018">Agreement between FEBRABAN (Brazilian Federation of Banks) and PUC - Rio (Pontifical Catholic University of Rio de Janeiro)</a>, where the authors describe the five main stylized characteristics of the financial cycle based on the work of <a href="https://www.bis.org/publ/work395.pdf">Borio (2012)</a>, which are:</p>
<ul>
<li><p>Characteristic 1: <strong>it is described more parsimoniously in terms of credit</strong> and real estate prices.</p></li>
<li><p>Characteristic 2: it has a much lower frequency than the traditional business cycle.</p></li>
<li><p>Characteristic 3: its peaks are closely associated with financial crises.</p></li>
<li><p>Characteristic 4: it helps to detect risks of financial difficulties with a good advantage in real time.</p></li>
<li><p>Characteristic 5: its duration and amplitude depend on policy regimes.</p></li>
</ul>
<p>In this paper, we will focus on seeing only part of the first characteristic, in which the financial cycle is described in a more parsimonious way in terms of credit.</p>
<p><em>If you want me to develop part 2 onwards, analyzing the other characteristics, <a href="https://www.linkedin.com/posts/hcostax_cr%C3%A9dito-como-proxy-para-ciclos-financeiros-activity-7254526734656544770-hcGr?utm_source=share&amp;utm_medium=member_desktop">leave a comment here or in the LinkedIn post at this link</a></em></p>
<p><br></p>
<section id="intro" class="level1">
<h1>Intro</h1>
<p>I will start with the definition of a cycle: a cycle is a low-frequency variation event. Just because it is a low-frequency event does not mean it will only be a short-term variation event. Cycles can have short or long durations, and are generally not standardized.</p>
<p>Standardized variation events, that is, events that have homogeneous behavior over time, are generally characteristic of a seasonal event. Seasonality is called a “known component”, precisely because it is a standardized event. If it is standardized, it will always have homogeneous behavior, and thus its future trajectory is “known”.</p>
<p>A cycle is different from a seasonal event, even though it may somehow assume behavior that appears to be homogeneous, but its future trajectory is unknown.</p>
<p>Cycles are important in general, because economies tend to experience periods of expansion and correction (recession) of activities, especially financial ones, in which the granting of credit generates more activity. The financial cycle is the period from the initial investment to the return on investment, but the financial cycle here will be characterized as the credit cycle, since the credit cycle is a proxy for the aggregate financial cycle.</p>
<p>In most cases, investment begins with credit, for the simple fact that third-party capital has a lower cost than equity, so credit is taken out to invest. The generation of revenue, cash and profit subsequently generates the full payment of the principal plus interest on the credit taken out. Increasing credit concessions indicate an expanding business environment, therefore a buoyant economy, and when there is a reduction in credit concessions, the opposite is true. From this perspective, credit concessions will act as a proxy for the financial cycle.</p>
<p>There are reports in the economic literature that financial booms (characterized as a strong expansion in the granting of credit) create conditions for recession and unemployment, as experienced in the great international financial crisis of 2008. This is if you, dear reader, were born before 1991 (generation Y or millennials). If you were born after 1992, I’m sorry, but you didn’t even feel this crisis.</p>
<p>As the literature assumes, if there is a boom, at some point there will be a bust (correction or recession). And such a financial bust can temporarily synchronize the financial and business cycles, even though financial cycles can be much longer than business cycles.</p>
<p>Estimating or analyzing the financial cycle is very important to observe the levels of economic activity and test market expectations. The financial cycle is also important for macroprudential issues, which is connected with the regulation of the national financial system, by the Central Bank of Brazil, which in its agenda, tries to implement the Basel III framework, which talks about the countercyclical buffer, which uses the idea of the financial cycle.</p>
</section>
<section id="credit-concessions" class="level1">
<h1>Credit concessions</h1>
<p>After starting our discussion with this introduction about cycles, let’s talk a little about credit granting. Personally, I didn’t want to choose the stocks of credit operations and instead, I chose credit granting as a proxy variable for the financial cycle, for the simple fact that I wanted to, the analysis is mine and I choose the variable I want, just kidding (hahahaha).</p>
<p>I chose credit granting because it represents in an aggregated way the encounter between credit supply and demand (selected by hand, or rather, by models), because in the future I want to analyze information asymmetries, try to assess whether, on average, the models have dealt well with adverse selection.</p>
<p>I understand that stocks could also provide me with such an investigation, but stocks are cumulative aggregates and in my perception it could generate a dirty time series, carrying a smoothing that would hinder the decomposition of the components. And oh, it’s worth mentioning that these reasons I’m listing are just an excuse, the real reason is that I didn’t visually like the graph of the credit stock series (hahahaha).</p>
<p>Well, let’s go.</p>
<p>Below I present to you the time series of Credit Grants (Total). The definition on the website of the Central Bank of Brazil is: Value (in millions of Brazilian reais) of new credit operations contracted in the reference period in the National Financial System. Includes operations contracted in the free credit segment and in the directed credit segment. Here is the aggregated series, without distinction of the type of credit taker, whether it is personal credit or corporate credit.</p>
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/unnamed-chunk-2-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="https://henriqueqrm.netlify.app/blog/financial_cycle_credit_01/index_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="480"></a></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>In the graph above, we have the time series of total credit concession for the end of each period (monthly), and in blue we have the total credit concessions with seasonal adjustment. Both series are made available by the Central Bank of Brazil, through the time series management system, and obviously, for educational purposes, I will use the series with seasonal adjustment.</p>
<p>However, I will use the disaggregated series for the type of credit taker. We have two configurations: credit for individuals or personal credit, and credit for legal entities or corporate credit. Next, we can observe the composition of total credit concessions based on these two types of borrower.</p>
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/unnamed-chunk-3-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="https://henriqueqrm.netlify.app/blog/financial_cycle_credit_01/index_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="480"></a></p>
</figure>
</div>
</div>
</div>
<p>We can observe a slow decline in the granting of credit to companies, as the proportion is decreasing over time, and currently it is below 50%. People are taking out more credit than companies.</p>
<p>This makes us think about the basic hypothesis of financial cycles in resonance with business cycles: investment and return. Companies are taking out less credit, where less credit means less investment, if there is less investment, then we will have less return. Or we can think of it another way: are companies having difficulty accessing credit lines? Leave your opinion on this in the comments.</p>
<p>Apparently, the promotion of investment in companies via credit is decreasing, but people are accessing more credit. More credit means more debt, greater commitment of income, but it also means more consumption. If people are having less difficulty than companies in accessing credit lines, and this credit is aggregated into several lines, including loans and financing (vehicles and real estate).</p>
<p>If this is true, more credit means increased consumption, which generates more income in the economy, and this could therefore lead to some degree of demand inflation. Have prices been rising? Tell me in the comments if you have observed the price indexes in recent months, and if you have perceived this increase in prices.</p>
<p>One point to note: it is precisely these movements that can generate a possible correction. Greater credit concession is the cyclical expansion, if this credit becomes non-performing, it can generate a correction (recession). Why is this? Because more credit can mean more income in the economy, but it does not necessarily mean greater returns for companies.</p>
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/unnamed-chunk-4-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="https://henriqueqrm.netlify.app/blog/financial_cycle_credit_01/index_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="480"></a></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>Here we have a graph where we can observe the accumulated variation rate throughout the period of the collected time series. It is possible to see exactly this difference between the two types of borrowers.</p>
<p>But I don’t know if you were paying attention when you saw this graph, but it’s all a matter of perspective. I took the trouble to make a cut in this graph, starting from the beginning of the covid-19 pandemic.</p>
<p>I made a cut in the data starting from February 2020, and calculated the variation rates of both. After that, I normalized the series as an accumulated growth rate so that I could observe the trajectory of each of them from the same point, which in this case is zero.</p>
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/unnamed-chunk-5-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="https://henriqueqrm.netlify.app/blog/financial_cycle_credit_01/index_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="480"></a></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>At the beginning of the pandemic, the Federal Government and the National Bank for Economic and Social Development (BNDES) announced credit programs for small businesses, including working capital and payroll financing – but many of these have not reached small businesses.</p>
<p>In addition to this credit initiative, there have been others, but it is from here that we see things changing course. While we see credit being granted to people in general, there has been an increase for companies, and I believe this was the effect of this first credit initiative. But if you are more curious about this subject, <a href="https://g1.globo.com/economia/noticia/2020/05/16/em-crise-pequenas-empresas-tem-dificuldade-de-acessar-linhas-de-credito.ghtml">access this link with the full news</a> (note: this is in Brazilian Portuguese)</p>
<p>Without further ado, let’s take a look at the behavior of the series. Let’s start with the “Total” series and then look at the personal credit series (here we will call it CCPF - granting of credit to individuals) and corporate credit (here we will call it CCPJ - granting of credit to legal entities).</p>
<p><br></p>
</section>
<section id="credit-gap-a-warning-of-recession" class="level1">
<h1>Credit gap: a warning of recession?</h1>
<p>In economic literature, more specifically in macroeconomic theories, there are real business cycles, which are widely used to assess whether economic activity conditions are putting pressure on inflation through a factor called the output gap.</p>
<p>The output gap is an indicator calculated by the difference between a country’s current Gross Domestic Product (GDP) and potential GDP. Potential GDP can be understood as the level of output that a country can produce when its production factors are not idle. The output gap can be positive or negative. A positive gap can indicate the effects of an irresponsible fiscal policy, while a negative gap signals that the economy may be operating below its potential.</p>
<p>Just as this output gap theory works for GDP and its real business cycles, it can also work for financial cycles. Since credit granting is our proxy variable for the financial cycle, we will calculate the credit granting gap, or rather, actual credit and potential credit, to find the gap.</p>
<p>In the literature on the subject, it is common to refer to this process of calculating the gap as “Filtering macroeconomic series”. In other cases, you may find a different term: “Decomposition of time series”.</p>
<p>It doesn’t matter which term we use here, but for the sake of educational example, I will call it decomposition. Why? Because I thought the term decomposition was cooler, since filtering didn’t appeal to me hahahaha. But filtering makes a little more sense, since we will extract the components of the time series, between cycle and trend, since our series is already seasonally adjusted.</p>
<p>Here I will test two methods, a very common one (older, with more criticisms, but on average it works very well) and a modern one (it is a more recent method, and I found it to be very robust).</p>
<p>The most common and simple one is the HP Filter (Hodrick-Prescott), well known in the economic literature. There are many criticisms about it, but I must say that I was impressed, because in some papers I read, it seemed to work very well. I believe that for its time, it must have been the pinnacle. The modern one is a method known as Empirical Mode Decomposition (EMD), but I will use an adapted version, Complete Ensemble Empirical Mode Decomposition with Adaptive Noise (CEEMDAN). I am leaving this paragraph only for the curious!</p>
<p>First we will estimate the trend and cycle through the HP filter, and then through CEEMDAN.</p>
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/unnamed-chunk-6-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="https://henriqueqrm.netlify.app/blog/financial_cycle_credit_01/index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="624"></a></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>The algorithm is very simple and runs very easily on any computer. The graph above shows us the components of interest: trend and cycle. For now, for educational purposes, we will focus only on the red line, which is what I am interested in.</p>
<p>Now let’s look at the result of the CEEMDAN algorithm, which is a little complicated and requires a much greater computational effort than the HP filter. The graph is not as pretty as the HP filter, but it will show us the components that CEEMDAN calculated for us.</p>
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/unnamed-chunk-7-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="https://henriqueqrm.netlify.app/blog/financial_cycle_credit_01/index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="480"></a></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>Here it is the same thing, we will focus only on the “residual” series because that is what interests us, as it will be a proxy for the trend, just like in the HP filter.</p>
<p>Now that we have the trend lines of both methods, we will use them to build the comparison graph, between the trends and the total credit granting with seasonal adjustment (an important detail is to always remember the seasonal adjustment).</p>
<p>But before we see the final result, I would like to recall the first paragraphs of this topic, where I comment on the output gap, or rather, on the financial gap (credit gap), where I commented that the gap is found through the difference between the “Effective Factor” and the “Potential Factor”.</p>
<p>For educational purposes, the potential factor will be represented by the trend curve, and the effective factor will be represented by the total credit concession series itself.</p>
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/unnamed-chunk-8-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img src="https://henriqueqrm.netlify.app/blog/financial_cycle_credit_01/index_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="480"></a></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>Without much mystery, the graph is composed of effective credit and potential credit. In addition, the shaded areas represent the periods of recession dated by the Economic Cycle Dating Committee (CODACE), created by the Brazilian Institute of Economics (FGV IBRE).</p>
<p>But CADACE dated the business cycles (GDP), so I wanted to bring the dates to the graph for comparison. If the hypothesis that the boom in the financial cycle can generate conditions for recession (correction) in the business cycle, then we would be able to observe in the graph, when this information is superimposed.</p>
<p>In this time frame, we can only observe two moments dated as recession, but we have three periods of expansion, in which the last one seems accelerated, which may seem like a boom in the business cycle. I could be wrong, and if you know about this subject, leave it in the comments.</p>
<p>The cool thing is that we can see in the graph that when actual credit persistently exceeds potential credit, there is always room for correction.</p>
<p>The dashed line separates the end of the series from the projection. Here, without further ado, I did not use ARIMA, I used a forecast through a model called Prophet, which, if I’m not mistaken, was created by Facebook (now Meta).</p>
<p>What do you think? Does this graph explain the idea that the financial cycle tends to experience a boom before the start of a recession? Leave your opinion in the comments.</p>
<section id="visualizing-gaps" class="level2">
<h2 class="anchored" data-anchor-id="visualizing-gaps">Visualizing gaps</h2>
<p><br></p>
<p>To conclude this first article, let’s look at the graph of the financial gap through the credit cycle estimated by the HP filter and the CEEMDAN algorithm.</p>
<p>For educational purposes, the gap is the difference between potential credit and effective credit.</p>
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/unnamed-chunk-9-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="https://henriqueqrm.netlify.app/blog/financial_cycle_credit_01/index_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="480"></a></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>Tell me in the comments what you think of this chart. Which cycle best captures business cycles?</p>
<p>To conclude, I tried to explore the Harding &amp; Pagan (2002) algorithm for dating cycles. In short, I applied it to the total credit granting series, to try to find short-term cycles.</p>
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/unnamed-chunk-10-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="https://henriqueqrm.netlify.app/blog/financial_cycle_credit_01/index_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="480"></a></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>If you are unable to comment here, you can go to the updated post I made on LinkedIn about this article <a href="https://www.linkedin.com/posts/hcostax_cr%C3%A9dito-como-proxy-para-ciclos-financeiros-activity-7254526734656544770-hcGr?utm_source=share&amp;utm_medium=member_desktop">AT THIS LINK HERE</a>. I would really appreciate it if you would like to contribute to the text, or if you have any corrections or adjustments to suggest to me. Thank you very much for your time.</p>
<p><br></p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hey! 👋, did you find my work useful? Consider buying me a coffee ☕, by clicking here 👇🏻
</div>
</div>
<div class="callout-body-container callout-body">
<p><a href="https://www.buymeacoffee.com/hcostax"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&amp;emoji=&amp;slug =hcostax&amp;button_colour=5F7FFF&amp;font_colour=ffffff&amp;font_family=Cookie&amp;outline_colour=000000&amp;coffee_colour=FFDD00"></a></p>
</div>
</div>


</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-costa2024" class="csl-entry quarto-appendix-citeas">
Costa, Henrique. 2024. <span>“Financial Cycle: Credit - Part I.”</span>
October 19, 2024. <a href="https://doi.org/10.59350/tne4j-4je60">https://doi.org/10.59350/tne4j-4je60</a>.
</div></div></section></div> ]]></description>
  <category>Risk</category>
  <category>Credit</category>
  <category>Cycle</category>
  <category>DataViz</category>
  <guid>https://henriqueqrm.netlify.app/blog/financial_cycle_credit_01/</guid>
  <pubDate>Sat, 19 Oct 2024 03:00:00 GMT</pubDate>
  <media:content url="https://henriqueqrm.netlify.app/blog/financial_cycle_credit_01/feature.svg" medium="image" type="image/svg+xml"/>
</item>
<item>
  <title>Trivia Series: Modelling foundations</title>
  <dc:creator>Henrique Costa</dc:creator>
  <link>https://henriqueqrm.netlify.app/blog/modelling_foundations/</link>
  <description><![CDATA[ 

<!-- source: https://github.com/gadenbuie/garrickadenbuie-com/blob/main/_partials/title-block-link-buttons/title-block.html -->
<!-- 
<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title"> 
-->
<!-- <header id="title-block-header" class="quarto-title-block default page-columns"> -->
<!-- <div class="quarto-title page-columns page-full featured-image p-4" style="background-image: url(featured.png), url(featured.jpg), url(../featured.jpg);"> -->



<p><a href="feature.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="https://henriqueqrm.netlify.app/blog/modelling_foundations/feature.jpg" class="img-fluid"></a></p>
<section id="modeling-principles" class="level1">
<h1>Modeling Principles</h1>
<p>Almost all, if not all, applied science is based on the idea of a model. There are problems in the real world, and we would like to create a theory to solve such problems.</p>
<p>One of the pillars or the main foundation of quantitative modeling is its effectiveness. But how can a model be effective? By demonstrating that it is simple, reproducible, and applicable in other areas of knowledge.</p>
<p>A second pillar of modeling is the ability to make decisions and choices. And such choices are, and should be, made at any and all times in the process of specifying a model.</p>
<p>Another pillar is testing. A model cannot exist without its due testing process. These tests are experiments, where choices must be made and tested to ensure the effectiveness of the model.</p>
<p>A model has a simple objective: to be a simplistic representation of the real world. Based on the central limit theorem, sampling, and randomness, a model is nothing more than a specific/local/unitary idea that represents the general/total.</p>
<p>The sample will never be equal to the population, and a unit will never be the total, but a model finds a pattern that it will assume as central and how far the units are from this pattern, which we formally call “effect” and “residue”.</p>
<p>The “effect” is what we seek, in a simplified way, to solve the real problem, and the “residue” is what corroborates our effect, the residue is the acid test of the model and will demonstrate how too simple the model is, or how too complex the model is.</p>
<p>It is necessary to move between the simple and the complex to centralize the effect. If the effect is central, and the residue is coherent and parsimonious, then the model has fulfilled its main objective: in a simple way, to represent the complex reality.</p>
<p>And here is how this process works:</p>
<p><a href="./img/flux_one.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="https://henriqueqrm.netlify.app/blog/modelling_foundations/img/flux_one.png" class="img-fluid"></a></p>
<p><br></p>
<p>The problems observed in the real world are very complex, and to solve them we need to look for the exact solution.</p>
<p>But if the problem is complex, the solution must be just as complex, and that is why it is necessary to simplify. We can solve some problems with approximate solutions, and this is feasible. However, an approximate solution requires an approximate problem.</p>
<p>In this sense, we observe the real problem and conditionally create a simplified version that we call an approximate problem, since it is in fact close to the real one, only some simplifications have occurred to allow us to study, estimate, test and theorize.</p>
<p>From the approximated (simplified) problem it is possible to obtain an exact solution. Therefore, it is feasible that the exact solution of the approximated problem is the approximate solution of the real problem.</p>
<p>And so the fundamental process of modeling occurs:</p>
<p><a href="./img/flux_two.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="https://henriqueqrm.netlify.app/blog/modelling_foundations/img/flux_two.png" class="img-fluid"></a></p>
<p>This very simplistic process allows us to see that the model is nothing more than a simplification of the real problem, as I mentioned before. Using the model, it is possible to analyze the results found without needing to have the solution. The analysis of the model serves to understand the nuances of the results in order to draw conclusions about the simplification that was created. Sometimes we will not have the solution we are looking for, but we can have conclusions, even if simplified, about the real problem.</p>
<p>The analysis and conclusions of the model allow us to generate inference, which is the deduction made based on the reasoning generated by the analysis, and from the inference we can explain, even if in a simplified way, the real problem and make estimates and predictions.</p>
<p>The final step is the decision or choice that we make based on the understanding and estimates. With this, we monitor and verify whether our model is sufficient to reach an approximate solution to the real problem. Therefore, we verify whether our choices for applying the model results are meeting the expectations based on the estimates of our model.</p>
<p>If our model is not sufficient, that is, if the estimates are not observed in the real world, we need to recalibrate this model or even specify a new one. This means that we failed in one of the steps outlined in the flows above.</p>
<p>We usually make a lot of mistakes when simplifying the problem, in the initial specification of the model. It seems trivial, and it is, but this step requires a lot of creativity, because modeling is an art. If we simplify the model too much, it loses its sensitivity to reality, and if we simplify it too little, the model can be so complex that it cannot be distinguished from the real problem, and this causes failure, due to the difficulty in obtaining an exact solution.</p>
<p>The second point where we fail the most is in decision-making and verification, because this process can be expensive. Monitoring is a cost that may never be proposed or included in a project (specifying a model). The choice of how to apply it can also be made without due proportions. In general, the decision-making process can be poorly done, generating the inconsistency that leads the model to failure.</p>
<p>Generally, the person who makes the decisions is not always the same person who collected the information, nor may it be the person who specified and executed the model, much less the person who performed the prior analysis and reached the conclusions and inferences.</p>
<p>The modeling process is a process that has an indefinite temporality, but it has steps that need to be respected, as if it were a natural rule. So far, these rules are valid and work very well. For example, we have many powerful models that are sometimes defined theoretically and, when applied, perform their role accurately.</p>
<p>There is no defined time, but it can have a cost. The longer it takes, the higher the cost. This is only valid if, and only if, time has a monetary value (such as working hours, the researcher’s salary or the project budget).</p>
<p>So, even if it is trivial, do not ignore this knowledge. A model is not specified in minutes, and executing a famous or currently fashionable algorithm is not enough. It is necessary to abstract in order to think about the complexity of the real problem, as well as to think about the conditioning paths of simplification.</p>
<p>A very interesting topic in simplifying a real problem and finding an approximate solution is the idea of <a href="https://hcostax.com/blog/ceteris_paribus/">ceteris paribus</a> used in economics, where the general idea is to apply, in a subjective and abstract way, an implicit equilibrium condition in which the relationship between phenomena is balanced and therefore any change in the other phenomena not used in the model has no effect, isolating only the phenomenon chosen to estimate the effect of one phenomenon on the other in order to draw conclusions, make inferences and make decisions.</p>
<p>From now on, you already know how to start your modeling process, which is not just visiting your data lake, selecting a multitude of variables and running a convolutional neural network calculation and hoping that your model is as accurate as your accuracy test tells you it is. Sometimes, a linear regression with 3 variables is enough, and this would be following the first step of simplification.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hey! 👋, did you find my work useful? Consider buying me a coffee ☕, by clicking here 👇🏻
</div>
</div>
<div class="callout-body-container callout-body">
<p><a href="https://www.buymeacoffee.com/hcostax"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&amp;emoji=&amp;slug =hcostax&amp;button_colour=5F7FFF&amp;font_colour=ffffff&amp;font_family=Cookie&amp;outline_colour=000000&amp;coffee_colour=FFDD00"></a></p>
</div>
</div>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-costa2024" class="csl-entry quarto-appendix-citeas">
Costa, Henrique. 2024. <span>“Trivia Series: Modelling
Foundations.”</span> August 25, 2024. <a href="https://doi.org/10.59350/rzbj1-p3865">https://doi.org/10.59350/rzbj1-p3865</a>.
</div></div></section></div> ]]></description>
  <category>Maths</category>
  <category>Stats</category>
  <category>Model</category>
  <guid>https://henriqueqrm.netlify.app/blog/modelling_foundations/</guid>
  <pubDate>Sun, 25 Aug 2024 03:00:00 GMT</pubDate>
  <media:content url="https://henriqueqrm.netlify.app/blog/modelling_foundations/feature.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Sorte e Apostas</title>
  <dc:creator>Henrique Costa</dc:creator>
  <link>https://henriqueqrm.netlify.app/blog/sorte_apostas/</link>
  <description><![CDATA[ 

<!-- source: https://github.com/gadenbuie/garrickadenbuie-com/blob/main/_partials/title-block-link-buttons/title-block.html -->
<!-- 
<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title"> 
-->
<!-- <header id="title-block-header" class="quarto-title-block default page-columns"> -->
<!-- <div class="quarto-title page-columns page-full featured-image p-4" style="background-image: url(featured.png), url(featured.jpg), url(../featured.jpg);"> -->



<p><a href="feature.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="https://henriqueqrm.netlify.app/blog/sorte_apostas/feature.png" class="img-fluid"></a></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p>Aqui voce pode encontrar a apresentação: <a href="https://hcostax.quarto.pub/sorte_apostas/">Link da Apresentação</a></p>
<p><br></p>
<!-- Aqui você se cadastra para participar do sorteio dos livros: [Link para o Formulário](https://forms.gle/mCN6j8CTEWY66PX27) -->
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p>You can also reproduce this by choosing the city you want.</p>
<p>Check out the complete code on my <a href="https://github.com/hcostax/01---Desafio_EconomistaVisual">Github</a>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hey! 👋, did you find my work useful? Consider buying me a coffee ☕, by clicking here 👇🏻
</div>
</div>
<div class="callout-body-container callout-body">
<p><a href="https://www.buymeacoffee.com/hcostax"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&amp;emoji=&amp;slug =hcostax&amp;button_colour=5F7FFF&amp;font_colour=ffffff&amp;font_family=Cookie&amp;outline_colour=000000&amp;coffee_colour=FFDD00"></a></p>
</div>
</div>



<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-costa2024" class="csl-entry quarto-appendix-citeas">
Costa, Henrique. 2024. <span>“Sorte e Apostas.”</span> April 16, 2024.
<a href="https://doi.org/10.59350/s9btn-bfx74">https://doi.org/10.59350/s9btn-bfx74</a>.
</div></div></section></div> ]]></description>
  <category>Tomada de Decisão</category>
  <category>Riscos</category>
  <guid>https://henriqueqrm.netlify.app/blog/sorte_apostas/</guid>
  <pubDate>Tue, 16 Apr 2024 03:00:00 GMT</pubDate>
  <media:content url="https://henriqueqrm.netlify.app/blog/sorte_apostas/feature.png" medium="image" type="image/png" height="81" width="144"/>
</item>
<item>
  <title>Trivia Series: Regression</title>
  <dc:creator>Henrique Costa</dc:creator>
  <link>https://henriqueqrm.netlify.app/blog/regression/</link>
  <description><![CDATA[ 

<!-- source: https://github.com/gadenbuie/garrickadenbuie-com/blob/main/_partials/title-block-link-buttons/title-block.html -->
<!-- 
<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title"> 
-->
<!-- <header id="title-block-header" class="quarto-title-block default page-columns"> -->
<!-- <div class="quarto-title page-columns page-full featured-image p-4" style="background-image: url(featured.png), url(featured.jpg), url(../featured.jpg);"> -->



<p><a href="feature.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="https://henriqueqrm.netlify.app/blog/regression/feature.png" class="img-fluid"></a></p>
<section id="rambling-proxy-for-an-introduction" class="level1">
<h1>Rambling (proxy for an introduction)</h1>
<p>We are experiencing the chaos of the information age, and its technological advents with voracious evolution and expansion. And in the midst of all this we have the advent of Big Data that has reached the delights of many with Data Science, Machine Learning and Artificial Intelligence.</p>
<p>As a result, the idea of mathematical and statistical “models” became the rage, gaining visibility. And among these models we have the most trivial of all: regression.</p>
<p>Have you ever stopped to think about where this term comes from, and what it means in practice? Exactly what you thought: “That’s the basics!” That’s why this series of stories was called “trivialities”, as they are trivialities that sometimes need to be known.</p>
<p>On my journey as a Quant backpacker (which is not that long, but long enough to make these observations) I realized that very simple points or concepts are not known to the overwhelming majority, and that is why I observed a lot of misapplication or erroneous judgment in statistical metrics , and I decided to start writing about it.</p>
<p>As I have academic roots, I brought the questions that will direct this text:</p>
<ul>
<li>What is regression?</li>
<li>What does this term mean?</li>
<li>Where and when did it appear?</li>
<li>How to apply?</li>
<li>Am I applying it correctly?</li>
</ul>
<p>And as usual, I’ll start from the beginning (😄😄😄).</p>
</section>
<section id="the-beginnings-of-the-regression" class="level1">
<h1>The beginnings of the Regression</h1>
<p>When we think of this term, the idea of linear statistical regression immediately comes to mind. And yes, that’s right, the term is the same, but why regression? When I think about the meaning of the word, and obviously I already looked it up in a dictionary on the internet, which is the same as going back, regression comes from regressing, returning to a state that has already been overcome or that has evolved but returned to its previous levels. previous ones. It’s like climbing a ladder but going down backwards.</p>
<p>And that’s right (😄), regression is twisting, returning to the previous state. This term was coined in 1875 by an amateur mathematician named Francis Galton, who in some books says he was a first cousin of the famous Charles Darwin. Galton brought to the public the coining of this term, calling it “regression to the mean”.</p>
<p>Why regression to the mean? Did something that moved end up returning to the mean? Yes that’s right. The concept only makes sense when we connect it with classical statistics, or better, with the central limit theorem.</p>
<p>This theorem is a right arm of probability theory, and builds the statement that when the sample size increases, the sampling distribution gets closer and closer to a normal distribution, and this is fundamental in statistical inference. Translating into simpler language: it’s like saying that when we observe nature, we perceive a natural state or a standard, normal state of things.</p>
<p>An example using Brazil, a country with a tropical climate, it is correct to say that the natural state of the climate is heat, as it is sunny many more days a year than cold or rainy, therefore, on average it is hotter, so the normal of Brazil is to have sunny days, but when it rains we can activate the idea of normality, in which the rain can soon stop and the sun and high temperatures return to the scene.</p>
<p>Regression to the mean is exactly that, even if you have days with rain, the “normal” is that there are more sunny days, so rainy days are deviations between the averages, as the average is sunny days. But the term became known even after Galton published a study in 1885 in which he demonstrated, through regression calculations, that the height of children does not tend to reflect the height of their parents, but rather tends to regress towards the population average.</p>
<p>It is possible to see how the term gained scale after use by Galton, using the Google tool: Ngram book viewer.</p>
<p><a href="./img/ngram_regression.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="https://henriqueqrm.netlify.app/blog/regression/img/ngram_regression.jpg" class="img-fluid"></a></p>
</section>
<section id="the-use-of-regression" class="level1">
<h1>The use of regression</h1>
<p>The application of this method is known to many people, and can be found in different professional areas. But as I come from economic sciences, I will use this line to continue the text.</p>
<p>The economic sciences have econometrics as their quantitative tool, which is the metric for analyzing economic theories. In simpler language, it is the use of classical statistical techniques to analyze and test an economic theory. Economists use a lot of regression in econometrics.</p>
<p>And studying econometrics I learned a lot about the fundamentals of regression analysis. But a few paragraphs above I wrote that regression is returning to your previous state, so how would economists use a matrix like that? For the simple fact that the economy works with the assumption of a state of general equilibrium of things.</p>
<p>The economist has a single objective, and amazingly, it is not to save money, it is to allocate scarce resources to meet unlimited needs. But how does he do this? Artificial intelligence!!! (😄😄😄).</p>
<p>Joking apart. The economist uses optimization as his beacon. Allocating scarce resources to satisfy unlimited needs is only possible by optimizing. And what does optimizing have to do with regression? All! Economists’ assumption of a general equilibrium is only possible using optimization, minimizing costs and maximizing profits, and regressing to the mean or returning to a normal state only reinforces or supports the idea of general equilibrium.</p>
<p>So, I will bring a brief example of application, coming from a study material for economists, the book on basic econometrics by Damodar N. Gujarati and Dawn C. Porter, in which we find an application that is well known among economists: the hypothesis of marginal propensity to consume, or MPC.</p>
<p>Keynes stated: <strong><em>The fundamental psychological law […] is that men [women] are disposed, as a rule and on an average, to increase their consumption as their income increases, but not in the same proportion as the increase in income.</em></strong> <em>(Keynes, John Maynard. The general theory of employment, interest and money. New York: Harcourt Brace Jovanovich, 1936. p.&nbsp;96.).</em></p>
<p>So to simplify, we will use an econometric model based on a simple linear regression, but first I need to comment that there is a rationale behind a linear regression, which is the central objective of this text, to talk about some basic points that sometimes fall into oblivion .</p>
<p>An econometric model (statistical/mathematical) aims to represent the reality we are interested in investigating. The model must be able to capture the relationships between reality and theory, so that the theory can be tested. However, this representation of reality is not complete, a model alone is not capable of representing or describing reality as a whole, so it needs to be conditioned and sometimes restricted.</p>
<p>Keynes’ hypothesis brings exactly this idea, with the construction of a consumption function, and without many details, his hypothesis of a relationship between consumption and income seems deterministic or an exact relationship. So, as the model cannot have all the information, it uses the most likely or available information and relies on the premise that the other effects are constant or unchanged, not causing direct influence: ceteris paribus.</p>
<p>I wrote a text about how I see the ceteris paribus condition, and how it helps us understand real-life phenomena. So, returning to the example of Keynes’s hypothesis, he uses ceteris paribus in an intuitive and implicit way, leaving no details, but establishing the premises: “to increase your consumption as your income increases”. So we already have the relationship we need to build our model.</p>
<p>In short, Keynes postulated that the population had a tendency to increase its consumption when its income increases, which was labeled marginal propensity to consume (PMC), and it would be analyzed quantitatively as a rate of variation in consumption, and that this variation would be given in units (say, one dollar) of income, and that it will always be greater than zero, but less than 1, as his observations showed that additional consumption did not have the same level as additional income, that is, people did not they consumed everything they earned and that is why it has to be less than 1.</p>
</section>
<section id="specifying-the-hypothesis-based-econometric-model" class="level1">
<h1>Specifying the hypothesis-based econometric model</h1>
<p>Although Keynes established an apparently positive relationship between income and consumption, he did not stipulate how this relationship happens. To simplify, let’s use “poetic license” and suggest the following functional form for the relationship between income and consumption established by Keynes:</p>
<p><img src="https://latex.codecogs.com/png.latex?%20Y%20=%20%5Calpha%20+%20%5Cbeta%20X%20%5C;%5C;%5C;%5C;%5C;%5C;%5C;%5C;%200%20%3C%20%5Cbeta%20%3C%201%20"></p>
<p>where <img src="https://latex.codecogs.com/png.latex?Y"> represents consumption expenditure and <img src="https://latex.codecogs.com/png.latex?X"> represents income, and <img src="https://latex.codecogs.com/png.latex?%5Calpha"> and <img src="https://latex.codecogs.com/png.latex?%5Cbeta"> are the model parameters. These parameters represent the effects generated through the relationship between <img src="https://latex.codecogs.com/png.latex?X"> and <img src="https://latex.codecogs.com/png.latex?Y">. Sometimes known as marginal effects.</p>
<p>The parameter <img src="https://latex.codecogs.com/png.latex?%5Calpha"> is known as “intecept”, or average value. Generally it demonstrates that where the relationship between the variables between <img src="https://latex.codecogs.com/png.latex?X"> and <img src="https://latex.codecogs.com/png.latex?Y"> begins. It is the average value, if the marginal effect is null (zero). It’s like saying that, if <img src="https://latex.codecogs.com/png.latex?X"> has no influence on <img src="https://latex.codecogs.com/png.latex?Y">, then when <img src="https://latex.codecogs.com/png.latex?X"> and <img src="https://latex.codecogs.com/png.latex?Y"> are related, it is <img src="https://latex.codecogs.com/png.latex?%5Calpha"> that shows the level of this relationship.</p>
<p>The parameter <img src="https://latex.codecogs.com/png.latex?%5Cbeta"> is known as “angle” or “angular coefficient”, also called the slope of a straight line, it determines the slope of a straight line. A straight line because the relationship between <img src="https://latex.codecogs.com/png.latex?X"> and <img src="https://latex.codecogs.com/png.latex?Y"> is direct (linear). The angular coefficient is a number that is related to the angle formed between the straight line and the horizontal, describing the slope of the straight line. And when we connect the terms “slope” and “angle”, we can remember the concept of derivation, and that is exactly it, it is the effect of the derivation in relation to <img src="https://latex.codecogs.com/png.latex?X">. And we know that in economics the concept of marginality is directly correlated to the concept of derivation, which is why the angular coefficient is known as marginal effect.</p>
<p>And the angular coefficient (<img src="https://latex.codecogs.com/png.latex?%5Cbeta">) will be our indicator of the relationship between income and consumption, which we will call Marginal Propensity to Consume. This is already constructed by Keynes’ theory, but we are here trying to work on an idea.</p>
<p>As I mentioned in the paragraphs above, this relationship does not represent a pure and exact reality. Of course, there are many variables that can affect consumption in addition to income, and therefore the model needs an additional specification, which for me is the charm of the linear regression model.To take into account the influences of other variables that were not imposed in this model:</p>
<p><img src="https://latex.codecogs.com/png.latex?%20Y%20=%20%5Calpha%20+%20%5Cbeta%20X%20+%20u%20"></p>
<p>where <img src="https://latex.codecogs.com/png.latex?u"> is known as the disturbance, or error term of the model. It is a random (stochastic) variable that has probabilistic properties. The error term <img src="https://latex.codecogs.com/png.latex?u"> is intended to represent all other factors that affect consumption but are not explicitly imposed here.</p>
<p>The error term is essentially the ceteris paribus condition. It contains all the other effects that interact with Consumption, but they are being nullified, or kept constant/unchanged, that is, there is no variation, so no effect can be felt.</p>
<p>That is, by isolating the effect of income on consumption, we artificially create a kind of general equilibrium, showing that the relationship between <img src="https://latex.codecogs.com/png.latex?X"> and <img src="https://latex.codecogs.com/png.latex?Y"> is balanced (normal), and that other factors have no influence.</p>
</section>
<section id="estimating-the-model" class="level1">
<h1>Estimating the model</h1>
<p>With data from Table I.1 of the Gujarati basic econometrics book, which refers to the United States economy in the period 1960-2005. Table I.1 uses aggregate consumption to represent model consumption, and GDP to represent income, and thus we will estimate the marginal propensity to consume. With the data in hand, it’s time to go to RStudio and start “the work”. <em>Let’s Code!</em></p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># install.packages("janitor")</span></span>
<span id="cb1-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># remotes::install_github("brunoruas2/gujarati")</span></span>
<span id="cb1-3"></span>
<span id="cb1-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># load libraries</span></span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span>
<span id="cb1-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(gujarati)</span>
<span id="cb1-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># library(janitor)</span></span>
<span id="cb1-8"></span>
<span id="cb1-9">TableI_1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb1-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb1-11">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Year =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_replace_all</span>(Year, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">" "</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>),</span>
<span id="cb1-12">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">PCE.Y. =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_replace_all</span>(PCE.Y., <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">" "</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>),</span>
<span id="cb1-13">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">GDP.X. =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_replace_all</span>(GDP.X., <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">" "</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>),</span>
<span id="cb1-14">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb1-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as_tibble</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.name_repair =</span> janitor<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span>make_clean_names) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb1-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb1-17">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pce_y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(pce_y),</span>
<span id="cb1-18">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">gdp_x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(gdp_x)</span>
<span id="cb1-19">  ) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> tbl_pmc</span>
<span id="cb1-20"></span>
<span id="cb1-21"></span>
<span id="cb1-22"></span>
<span id="cb1-23">model <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lm</span>(pce_y <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> gdp_x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> tbl_pmc)</span>
<span id="cb1-24"></span>
<span id="cb1-25"></span>
<span id="cb1-26">model <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb1-27">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb1-28">  pander<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pander</span>()</span></code></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 25%">
<col style="width: 15%">
<col style="width: 18%">
<col style="width: 13%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">&nbsp;</th>
<th style="text-align: center;">Estimate</th>
<th style="text-align: center;">Std. Error</th>
<th style="text-align: center;">t value</th>
<th style="text-align: center;">Pr(&gt;|t|)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><strong>(Intercept)</strong></td>
<td style="text-align: center;">-299.6</td>
<td style="text-align: center;">28.76</td>
<td style="text-align: center;">-10.42</td>
<td style="text-align: center;">1.877e-13</td>
</tr>
<tr class="even">
<td style="text-align: center;"><strong>gdp_x</strong></td>
<td style="text-align: center;">0.7218</td>
<td style="text-align: center;">0.004423</td>
<td style="text-align: center;">163.2</td>
<td style="text-align: center;">7.244e-63</td>
</tr>
</tbody>
</table>
<table class="caption-top table table-sm table-striped small">
<caption>Fitting linear model: pce_y ~ gdp_x</caption>
<colgroup>
<col style="width: 20%">
<col style="width: 30%">
<col style="width: 12%">
<col style="width: 23%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Observations</th>
<th style="text-align: center;">Residual Std. Error</th>
<th style="text-align: center;"><img src="https://latex.codecogs.com/png.latex?R%5E2"></th>
<th style="text-align: center;">Adjusted <img src="https://latex.codecogs.com/png.latex?R%5E2"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">46</td>
<td style="text-align: center;">73.57</td>
<td style="text-align: center;">0.9984</td>
<td style="text-align: center;">0.9983</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Now that we have an output from the experimental model, we can obtain numerical estimates of the parameters that will provide us with an empirical resolution for the consumption function proposed here in this example.</p>
<p>Now that we have an output from the experimental model, we can obtain numerical estimates of the parameters that will provide us with an empirical resolution for the consumption function proposed here in this example.</p>
<p>We can note that the statistical technique of regression analysis is the main tool for obtaining such estimates. After running the model, we obtain the following estimates:</p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?%5Chat%7B%5Calpha%7D"> = -299.6</li>
<li><img src="https://latex.codecogs.com/png.latex?%5Chat%7B%5Cbeta%7D"> = 0.7218</li>
</ul>
<p>Now we can empirically translate the estimated consumption function as:</p>
<p><img src="https://latex.codecogs.com/png.latex?%20%5Chat%7BY_t%7D%20=%20%5Chat%7B%5Calpha%7D%20+%20%5Chat%7B%5Cbeta%7D%20X_t%20"></p>
<p><img src="https://latex.codecogs.com/png.latex?%20%5Chat%7BY_t%7D%20=%20-299,5913%20+%200,7218%20X_t%20"></p>
<p>The caret above the Y and the parameters <img src="https://latex.codecogs.com/png.latex?%5Calpha"> and <img src="https://latex.codecogs.com/png.latex?%5Cbeta"> indicates that this is an estimate. The following graph shows this estimated consumption function (i.e., the regression line).</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># load libraries</span></span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span>
<span id="cb2-3"></span>
<span id="cb2-4"></span>
<span id="cb2-5"></span>
<span id="cb2-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># building a plot with ggplot2 based on grammar of graphics:</span></span>
<span id="cb2-7"></span>
<span id="cb2-8">tbl_pmc <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb2-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(</span>
<span id="cb2-10">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> gdp_x, </span>
<span id="cb2-11">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> pce_y</span>
<span id="cb2-12">  )) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(</span>
<span id="cb2-14">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>, </span>
<span id="cb2-15">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> .<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>, </span>
<span id="cb2-16">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> .<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span></span>
<span id="cb2-17">    )) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-18">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_smooth</span>(</span>
<span id="cb2-19">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">method =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lm"</span>, </span>
<span id="cb2-20">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">se =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>,  </span>
<span id="cb2-21">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">inherit.aes =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span></span>
<span id="cb2-22">    ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-23">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-24">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(</span>
<span id="cb2-25">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Econometric model of the Keynesian consumption function"</span>,</span>
<span id="cb2-26">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Values for 1960-2005 in billions of 2000 dollars"</span>,</span>
<span id="cb2-27">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Gross Domestic Product"</span>,</span>
<span id="cb2-28">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Personal Consumption Expenditures"</span>,</span>
<span id="cb2-29">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Source: Economics Report of the President, 2007, Table B-2, p, 230."</span>)</span></code></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/unnamed-chunk-2-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="https://henriqueqrm.netlify.app/blog/regression/index_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<p>The red dots represent our income data (GDP), and the blue line represents the regression line.</p>
<p>As we can see in the model graph, it is possible to say that the regression line (blue) fits the data well, this means that the points (red) on the graph that represent the data are very close to the regression line.</p>
<p>The table of model results and the graph show us that, in this analyzed period (1960-2005), a marginal effect of income (GDP) on consumption behavior of almost 0.72 is estimated.</p>
<p>As I already mentioned, this marginal effect estimate comes from the angular coefficient, which we will now call “Coefficient of the Marginal Propensity to Consume”, and this coefficient is telling us that, in the sampled period, whenever there is an increase of one dollar in income In real terms, on average, there is an additional increase of around 72 cents in real consumption expenditure, that is: for every 1 dollar more, there is, on average, a marginal effect of 72 cents. If it increases by 1 dollar, consumption increases by 72 cents, and the opposite is also true.</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Average Marginal Effects
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Attention to a critical point: we use the term “average” or we always use the phrase “on average” because the relationship between consumption and income is inexact, that is, it is not a direct causal relationship; and this is very clear in the model graph, as not all red points in the data are exactly on the regression line.</p>
<p>In general terms, we can say that, “[…]according to our data, average consumer spending increases by about 70 cents for every dollar increase in income.</p>
<p>And this reinforces the idea of normality and average. We use the average as the optimal moment, because under normal conditions of temperature and pressure the effect is recognized in the average, because no matter the changes or oscillations, if we believe in the normality that after these variations everything returns to normal, then the average is the central point, that is, the normal.</p>
<p>As I tried to explain before, what we call marginal effects are partial derivatives of the regression equation in relation to each variable in the model; So therefore, the average marginal effects are simply the average of these partial derivatives. In ordinary least squares regression, the estimated slope coefficients (angular and/or <img src="https://latex.codecogs.com/png.latex?%5Chat%20%5Cbeta">) are marginal effects.</p>
</div>
</div>
</div>
<p>Now we know that on the surface, Keynes’ assumption appears to make sense. We found this positive relationship between income and consumption. However, we still cannot simply accept this value as a confirmation of the Keynesian consumption hypothesis, as it is not enough to just find the effect, it is necessary to test it, and that is science. And following the scientific standard, let’s create a problem question: “Is this estimate sufficiently below unity?” This is to convince us that it is not a result due to chance or a peculiar insight that the data we use is showing.</p>
</section>
<section id="testing-a-hypothesis" class="level1">
<h1>Testing a hypothesis</h1>
<p>Based on the idea of a scientific test, in which the statistical framework is used as a tool, is the marginal effect of 0.72 statistically smaller than 1? If this is true, it will be support for the birth of a theory. This practice of testing, or better said, corroborating or refuting existing economic theories or those that are emerging, based on sample evidence, which is basically what we have just done, has a foundation based on statistical theory, in a field of study known as statistical inference (hypothesis testing).</p>
<p>Let’s consider that the adjusted model we have just put together is a reasonably good approximation of reality, and that is one of the objectives of a model, but we need to be critical and criticize our own model, trying to understand if the estimates obtained are in accordance with the expectations of the theory being tested, which in this case is Keynes’ theory of marginal propensity to consume.</p>
<p>Economist Milton Friedman said that a theory or hypothesis that is not verifiable with empirical evidence may not be admissible as part of scientific research. Whereas Keynes expected the marginal propensity to consume to be positive but less than 1. In our model, we estimate a marginal propensity of about 0.72. But before this figure can be accepted as a confirmation of Keynesian consumption theory, we need to statistically test this estimate to convince ourselves that it is not a result due to chance or a peculiarity of the data we use.</p>
<p>Para isso, iremos utilizar do conceito de teste de hipotese. Nesse teste teremos que lidar com dois tipos de erros possíveis de ocorrer:</p>
<ul>
<li><p>A hipótese nula é rejeitada embora seja verdadeira (erro tipo I)</p></li>
<li><p>A hipótese nula não é rejeitada embora seja falsa (erro tipo II)</p></li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip with Title
</div>
</div>
<div class="callout-body-container callout-body">
<p>The significance level of the test is the probability to commit a type-I-error we are willing to accept in advance. E.g., using a prespecified significance level of 0.05, we reject the null hypothesis if and only if the p-value is less than 0.05. The significance level is chosen before the test is conducted.</p>
<p>An equivalent procedure is to reject the null hypothesis if the observed test statistic is, in absolute value terms, larger than the critical value of the test statistic. The critical value is determined by the significance level chosen and defines two disjoint sets of values which are called acceptance region and rejection region. The acceptance region contains all values of the test statistic for which the test does not reject while the rejection region contains all the values for which the test does reject.</p>
<p>The p-value is the probability that, in repeated sampling under the same conditions a test statistic is observed that provides just as much evidence against the null hypothesis as the test statistic actually observed.</p>
<p>The actual probability that the test rejects the true null hypothesis is called the size of the test. In an ideal setting, the size does equal the significance level.</p>
<p>The probability that the test correctly rejects a false null hypothesis is called power.</p>
<p><a href="https://www.econometrics-with-r.org/3.3-hypothesis-tests-concerning-the-population-mean.html">Hanck, Christoph, Martin Arnold, Alexander Gerber, and Martin Schmelzer. Introduction to Econometrics with R. Universität Duisburg-Essen, 2021.</a></p>
</div>
</div>
<p>You can also reproduce this by choosing the city you want.</p>
<p>Check out the complete code on my <a href="https://github.com/hcostax/01---Desafio_EconomistaVisual">Github</a>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hey! 👋, did you find my work useful? Consider buying me a coffee ☕, by clicking here 👇🏻
</div>
</div>
<div class="callout-body-container callout-body">
<p><a href="https://www.buymeacoffee.com/hcostax"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&amp;emoji=&amp;slug =hcostax&amp;button_colour=5F7FFF&amp;font_colour=ffffff&amp;font_family=Cookie&amp;outline_colour=000000&amp;coffee_colour=FFDD00"></a></p>
</div>
</div>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-costa2023" class="csl-entry quarto-appendix-citeas">
Costa, Henrique. 2023. <span>“Trivia Series: Regression.”</span>
December 20, 2023. <a href="https://doi.org/10.59350/xs70x-mar87">https://doi.org/10.59350/xs70x-mar87</a>.
</div></div></section></div> ]]></description>
  <category>R</category>
  <category>DataViz</category>
  <guid>https://henriqueqrm.netlify.app/blog/regression/</guid>
  <pubDate>Wed, 20 Dec 2023 03:00:00 GMT</pubDate>
  <media:content url="https://henriqueqrm.netlify.app/blog/regression/feature.png" medium="image" type="image/png" height="74" width="144"/>
</item>
<item>
  <title>A few words about risk management</title>
  <dc:creator>Henrique Costa</dc:creator>
  <link>https://henriqueqrm.netlify.app/blog/risk_intro/</link>
  <description><![CDATA[ 

<!-- source: https://github.com/gadenbuie/garrickadenbuie-com/blob/main/_partials/title-block-link-buttons/title-block.html -->
<!-- 
<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title"> 
-->
<!-- <header id="title-block-header" class="quarto-title-block default page-columns"> -->
<!-- <div class="quarto-title page-columns page-full featured-image p-4" style="background-image: url(featured.png), url(featured.jpg), url(../featured.jpg);"> -->



<p><a href="feature.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="https://henriqueqrm.netlify.app/blog/risk_intro/feature.jpg" class="img-fluid"></a></p>
<p>I started this website some time ago with the aim of writing down the expansion of my knowledge and experience in the area of financial risk management. And also other things like programming with R, econometric modeling and a little about <em>data science</em> and <em>machine learning</em>. So I’m going to use this publication as a starting point, and start discussing texts and examples applied to financial risks.</p>
<p>I am not going to give a general and complete description of what financial risk is and its management processes, as this can be easily found on sites like Wikipedia.</p>
<p>But risk, in the most basic sense, is the possibility that bad things will happen. Humans have evolved to manage risks like wild animals do. However, our awareness of risk is not always adequate for the modern world.</p>
<p>Behavioral science shows that we rely too much on our instincts and personal experience, as biases distort our thought processes. Furthermore, even the way we frame risk decisions irrationally influences our willingness to take risks.</p>
<p>Yet surprisingly sophisticated examples of risk management can be seen early in history. In ancient times, merchants and their creditors shared the risk by tying loan repayment to the safe arrival of shipments through sea loans (i.e.&nbsp;combining loans with a type of insurance). <a href="https://risk-engineering.org/concept/history-of-insurance">We can see some references here</a> and <a href="https://core.ac.uk/download/pdf/289933444.pdf">here too.</a></p>
<p>The insurance contract separated from the loan contract as early as the 14th century in northern Italy, creating the first autonomous financial risk transfer instrument. From the 17th century onwards, a more methodical approach to the mathematics of risk can be traced. This was followed by the development of exchange-based risk transfer, in the form of agricultural futures contracts, in the 18th and 19th centuries. <a href="https://www.jstor.org/stable/10.1086/ahr.111.2.307">Some other references here</a>.</p>
<p>This methodical approach continued to evolve in the 20th century and beyond, with major advances in financial theory in the 1950s; an explosion in risk management markets from the 1970s onwards; and the emergence of new instruments, such as cyber risk insurance, at the beginning of the 21st century. <strong>Risk management is an ancient art, but a young science – and an even younger profession</strong>.</p>
<p>The way we think about risk is the biggest determinant of whether we recognize risks, assess them appropriately, measure them using appropriate risk metrics and manage them.</p>
<p>In the next publications I will bring introductory content that will analyze risk definitions, the classic risk management process, the main types of risk and the tools used to track risks and make decisions.</p>
<p>Most risk management disasters are caused by the failure to recognize and/or adequately address one or more of these fundamental elements, not by the failure of some sophisticated risk management technique. Century-old financial institutions have gone bankrupt because their risk management procedures ignored a certain type of risk, misunderstood the links between risks, or did not follow the classic steps of the risk management process. As we recently observed the failure of some financial institutions, both in Brazil and around the world.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hey! 👋, did you find my work useful? Consider buying me a coffee ☕, by clicking here 👇🏻
</div>
</div>
<div class="callout-body-container callout-body">
<p><a href="https://www.buymeacoffee.com/hcostax"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&amp;emoji=&amp;slug =hcostax&amp;button_colour=5F7FFF&amp;font_colour=ffffff&amp;font_family=Cookie&amp;outline_colour=000000&amp;coffee_colour=FFDD00"></a></p>
</div>
</div>



<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-costa2023" class="csl-entry quarto-appendix-citeas">
Costa, Henrique. 2023. <span>“A Few Words about Risk Management.”</span>
August 27, 2023. <a href="https://doi.org/10.59350/51paw-dza08">https://doi.org/10.59350/51paw-dza08</a>.
</div></div></section></div> ]]></description>
  <category>Management</category>
  <category>Risk</category>
  <category>Finance</category>
  <guid>https://henriqueqrm.netlify.app/blog/risk_intro/</guid>
  <pubDate>Sun, 27 Aug 2023 03:00:00 GMT</pubDate>
  <media:content url="https://henriqueqrm.netlify.app/blog/risk_intro/feature.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>For me, the choice was R or Python</title>
  <dc:creator>Henrique Costa</dc:creator>
  <link>https://henriqueqrm.netlify.app/blog/r_or_python/</link>
  <description><![CDATA[ 

<!-- source: https://github.com/gadenbuie/garrickadenbuie-com/blob/main/_partials/title-block-link-buttons/title-block.html -->
<!-- 
<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title"> 
-->
<!-- <header id="title-block-header" class="quarto-title-block default page-columns"> -->
<!-- <div class="quarto-title page-columns page-full featured-image p-4" style="background-image: url(featured.png), url(featured.jpg), url(../featured.jpg);"> -->



<p><a href="feature.jpeg" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="https://henriqueqrm.netlify.app/blog/r_or_python/feature.jpeg" class="img-fluid"></a></p>
<p>Having decided to improve my skills in the short space of time left between my professional life and personal life, I started researching the available data science options. It quickly became clear that I should choose a programming language to learn and apply the techniques and the choice fell on R or Python, for me both options are good because they are free and open source and have an excellent reputation, in addition to each one having its own own community of active users, and very active!</p>
<p>I don’t remember where I saw this tip, but for me it was the central factor in my decision and something worth sharing:</p>
<p>If you are a professional who uses analysis tools in a business context, and with experience in Microsoft Excel, my tip is: select R to start your journey in data science. R is a single-threaded object-oriented functional programming language, and once you understand the main commands, it is intuitive to use. As such, it’s pretty predictable, which has been great for me as a professional. R has an excellent graphics package that complements the idea of analyzing data or <em>data wrangling</em>, which Python programmers often turn to <em>ggplot2</em> to generate beautiful visualizations, or use the ggplot2 theme within Python (lol), even though in recent years the Python’s visualization libraries have improved a lot, yet this happens frequently.</p>
<p>On the other hand, if you already have some experience in programming, or are from the computing field, Python is a much more general purpose and more readable language for those coming from this field, and everything you can do in Python is the same as most of the things R is good at.</p>
<p>Both groups have strong communities that share their knowledge on various blogs and events and I really think they are both great choices. Today the market is more heated when it comes to Python, and professionals who know both languages do very well.</p>
<p>Now that I’ve been using R for a few years (since 2013), I’ve had the chance to use it a few times in the workplace, and I use it whenever I can, showing the resources this tool offers, creating econometric models and estimation procedures. in modeling for financial risks to provide some business <em>insights</em>. I have already carried out many analysis projects for private clients and I feel honored that my efforts to learn are generating results.</p>
<p>A fellow Python expert with an interest in machine learning once saw the few lines of code needed to organize the dataset, train a model, and predict results, and, frankly, he was shocked. We had an awkward R-to-Python conversation trying to understand the differences between data matrices and data frames afterwards, although for me it clarified where R was strong: the ease of preparing and building a model quickly for any type of analysis.</p>
<p>But depending on who you ask, when I first came into contact with R in 2013, R probably had a slight, if not substantial, advantage over Python in user adoption for machine learning and what is now known as data science. Since then, the use of Python has grown substantially and it would be difficult to argue against the fact that Python is the new favorite, although the race may be tighter than one might expect given the enthusiasm of Python fans supporting the new and Brilliant tool with biggest hype.</p>
<p>In recent years, Python has benefited greatly from the rapid maturation of free add-ons such as the <em>Scikit-learn</em> machine learning framework, the <em>Pandas</em> data structure library, the <em>Matplotlib</em> graphing library, and the <em>Jupyter</em> notebook interface, among several other open applications. Source libraries that make it easier than ever to do data science in Python. Of course, these libraries only brought Python to par with what R and RStudio could do long ago! However, Python is comparatively fast and memory efficient – at least relative to R – which may have contributed to the fact that Python is now arguably the language most frequently taught in formal programs in data science. and quickly gained adoption across business domains.</p>
<p>Rather than indicating the imminent death of R, because Python’s rise is steep. In fact, the use of R is also growing rapidly, and R and RStudio are becoming more popular than ever. Although students sometimes ask whether it’s worth starting with R rather than jumping straight to Python, there are still many good reasons to choose to learn machine learning with R over the alternative.</p>
<p>Please note that these justifications are quite subjective – not just mine, but any justification on the internet will be like this – and there is no right answer for everyone, so I hesitate to put this in writing! However, as someone who still uses R almost daily as part of my work for a large corporation, here are a few things I’ve noticed:</p>
<ul>
<li><p>As I mentioned above, R may be more intuitive and easier to learn for people with a background in social sciences or business (such as economics, marketing, and so on), while Python may make more sense for computer scientists and other types of engineers .</p></li>
<li><p>R tends to be used more like a “calculator” where you type a command and something happens; In general, coding in Python tends to require more consideration of loops and other program flow commands (this distinction is disappearing over time with additional functionality in Python libraries).</p></li>
<li><p>R uses relatively few types of data structures (those included are adapted for data analysis) and the frequently used spreadsheet-type data format is a built-in data type; Comparatively, Python has many specialized data structures and uses libraries like <em>NumPy</em> or <em>Pandas</em> , and for array data format, each has its own syntax.</p></li>
<li><p>R and its packages can be easier to install and update than Python, in part because Python is managed by some operating systems by default, and maintaining separate dependencies and environments is a challenge (modern Python installation tools and managers of packages addressed this simultaneously, in some ways making the problem worse!).</p></li>
<li><p>R is typically slower and more memory-intensive than Python for data manipulation and iteration over large data structures, but if the data fits in memory, this difference is somewhat insignificant. For real? If you don’t work with BigData, you probably don’t even feel this difference; R has improved in this area, R is making data preparation faster and easier, and for data that doesn’t fit in memory there are workarounds (R with BigData), but this is admittedly one of Python’s biggest advantages.</p></li>
<li><p>R has the support and vision of the Posit team (formerly known as RStudio) driving innovation and making R easier and more enjoyable to use in a unified software environment (RStudio Desktop); In contrast, Python’s innovations are occurring on multiple fronts, offering more “right” ways to accomplish the same thing (for better or worse).</p></li>
</ul>
<p>Hopefully, the reasons above will give you the confidence to begin your journey. There is no shame in starting with R (as some people think), whether you stay with R long-term, use it side-by-side with other languages like Python, or major in something entirely different, the fundamental principles you learn will be transferred to any language (a clear example is: if you haven’t yet learned SQL and already understand the basics of <em>Tidyverse</em>, you will have an easier time studying SQL, or vice versa) or tools you choose. Although code written in R is much “prettier” to me, I highly recommend that you use the right tool for the job, whatever it may be. You may find, as I did, that R and RStudio are your tools of choice for many real-world data science and machine learning projects - even if you occasionally take advantage of Python’s unique strengths!</p>
<p>In the end, my recommendation is: just pick one and get started. Although I will still need to learn a lot more about Python to get the unique benefits each language offers, amplified through collaboration. The good thing about this is that, using RStudio, an IDE for R, it is possible to use Python and SQL as well.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hey! 👋, did you find my work useful? Consider buying me a coffee ☕, by clicking here 👇🏻
</div>
</div>
<div class="callout-body-container callout-body">
<p><a href="https://www.buymeacoffee.com/hcostax"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&amp;emoji=&amp;slug =hcostax&amp;button_colour=5F7FFF&amp;font_colour=ffffff&amp;font_family=Cookie&amp;outline_colour=000000&amp;coffee_colour=FFDD00"></a></p>
</div>
</div>



<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-costa2023" class="csl-entry quarto-appendix-citeas">
Costa, Henrique. 2023. <span>“For Me, the Choice Was R or
Python.”</span> June 20, 2023. <a href="https://doi.org/10.59350/83vew-1de35">https://doi.org/10.59350/83vew-1de35</a>.
</div></div></section></div> ]]></description>
  <category>R</category>
  <category>Python</category>
  <guid>https://henriqueqrm.netlify.app/blog/r_or_python/</guid>
  <pubDate>Tue, 20 Jun 2023 03:00:00 GMT</pubDate>
  <media:content url="https://henriqueqrm.netlify.app/blog/r_or_python/feature.jpeg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Reproduzindo gráfico do Economista Visual - Valor da cesta básica (PT-BR)</title>
  <dc:creator>Henrique Costa</dc:creator>
  <link>https://henriqueqrm.netlify.app/blog/desafio_EconViz_01/</link>
  <description><![CDATA[ 

<!-- source: https://github.com/gadenbuie/garrickadenbuie-com/blob/main/_partials/title-block-link-buttons/title-block.html -->
<!-- 
<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title"> 
-->
<!-- <header id="title-block-header" class="quarto-title-block default page-columns"> -->
<!-- <div class="quarto-title page-columns page-full featured-image p-4" style="background-image: url(featured.png), url(featured.jpg), url(../featured.jpg);"> -->



<p><a href="feature.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="https://henriqueqrm.netlify.app/blog/desafio_EconViz_01/feature.png" class="img-fluid"></a></p>
<p>Na publicação de hoje, quero trazer uma brincadeira que fiz comigo mesmo, um pequeno incentivo para voltar a publicar conteúdos sobre R (eu já estava enferrujado) entre outros assunto sobre economia.</p>
<p>Passeando pelo instagram, encontrei um perfil que pública muita informação sobre economia em formato de visualização, o Economista Visual.</p>
<p>Vendo um gráfico sobre o <a href="https://www.instagram.com/p/CLaQpRiB8pR/">preço da cesta básica na cidade de São Paulo - SP</a></p>
<p><a href="./img/cestabasica.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="https://henriqueqrm.netlify.app/blog/desafio_EconViz_01/img/cestabasica.jpg" class="img-fluid"></a></p>
<p>Resolvi criar o desafio de <strong>reproduzir</strong> esta visualização. Claro que não conseguiria deixar igual, mas poderia chegar bem perto.</p>
<p>Vamos começar pela fonte dos dados. Os dados utilizado no gráfico vem da base do DIEESE (Departamento Intersindical de Estatística e Estudos Socioeconômicos), que faz o levantamento do valor da Cesta Básica de Alimentos em várias cidades do país.</p>
<p>Acessando o website do DIEESE, na pagina do banco de dados de <a href="https://www.dieese.org.br/cesta/">Cesta Básica de Alimentos</a> é possível escolher a cidade desejada e fazer o <em>download</em> da planilha contendo as informações sobre o valor da cesta básica.</p>
<p><a href="./img/db_dieese.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="https://henriqueqrm.netlify.app/blog/desafio_EconViz_01/img/db_dieese.jpg" class="img-fluid"></a></p>
<p>Com os dados em mãos, é hora de ir para o RStudio e começar “os trabalhos”. <em>Let’s Code!</em></p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># para retirar notacoes cientifica</span></span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">options</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scipen =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">999</span>)</span>
<span id="cb1-3"></span>
<span id="cb1-4"></span>
<span id="cb1-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Pacotes necessarios para o projeto</span></span>
<span id="cb1-6"></span>
<span id="cb1-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># conjunto de pacotes essenciais</span></span>
<span id="cb1-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(readxl)        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># pacote para "ler" arquivos excel</span></span>
<span id="cb1-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(lubridate)     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># pacote para trabalhar com datas</span></span>
<span id="cb1-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(scales)        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># pacote para trabalhar com escalas</span></span>
<span id="cb1-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(here)          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># fluxos de trabalho orientados a projetos</span></span></code></pre></div>
<p>Particularmente, prefiro utilizar um fluxo orientado a projetos e por isso o pacote <code>here</code>está na lista acima. O pacote <code>here</code> implementa uma maneira mais simples de encontrar seus arquivos. O objetivo do pacote <code>here</code> é permitir a referência fácil de arquivos em <a href="https://rstats.wtf/project-oriented-workflow.html">fluxos de trabalho orientados a projetos</a>. Em contraste com o uso <code>setwd()</code>, que é frágil e dependente da maneira como você organiza seus arquivos, <code>here</code> usa o diretório de nível superior de um projeto para construir facilmente caminhos para os arquivos.</p>
<p>Após carregar os pacotes, é hora de ler os dados que estão na planilha em formato <code>.xls</code>.</p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Para carregar os dados usaremos o codigo a seguir:</span></span>
<span id="cb2-2"></span>
<span id="cb2-3">cesta_basica <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_excel</span>(     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># funcao que ler arquivos .xls</span></span>
<span id="cb2-4">  here<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">here</span>(                   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># funcao que informa o local</span></span>
<span id="cb2-5">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dados"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"exporta.xls"</span>       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># "local", "arquivo"</span></span>
<span id="cb2-6">    )</span>
<span id="cb2-7">)</span></code></pre></div>
<p>Agora que os dados já estão no <em>global environment</em>, vamos usar de alguns “costumes” de pré-analise para conhecer os dados. Lembrando que qualquer modificação nos dados será feito inteiramente e diretamente no R.</p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># visualizar a situacao dos dados</span></span>
<span id="cb3-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(cesta_basica)              <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># funcao imprime no console </span></span>
<span id="cb3-3">                                <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># as 10 primeiras observacoes</span></span>
<span id="cb3-4"></span>
<span id="cb3-5"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## A tibble: 6 x 2</span></span>
<span id="cb3-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#  `Gasto Mensal - Total da Cesta` ...2     </span></span>
<span id="cb3-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#  &lt;chr&gt;                           &lt;chr&gt;    </span></span>
<span id="cb3-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1 NA                              São Paulo</span></span>
<span id="cb3-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 2 01-2000                         112.22   </span></span>
<span id="cb3-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 3 02-2000                         110.8    </span></span>
<span id="cb3-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 4 03-2000                         115.13   </span></span>
<span id="cb3-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 5 04-2000                         115.92   </span></span>
<span id="cb3-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 6 05-2000                         111.78 </span></span></code></pre></div>
<p>O resultado mostra o óbvio, que os dados precisam de “tratamento” antes de pensarmos em extrair qualquer informação. Aqui neste caso, precisa retirar a primeira linha, que contém NA (<em>not available</em>) e uma palavra (São Paulo) onde deveria ser números. Os nomes das colunas (variáveis) também necessitam de atenção. Vamos olhar um pouco mais, com a função <code>tail()</code>.</p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tail</span>(cesta_basica)              <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># funcao imprime no console </span></span>
<span id="cb4-2">                                <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># as 10 ultimas observacoes</span></span>
<span id="cb4-3"></span>
<span id="cb4-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># A tibble: 6 x 2</span></span>
<span id="cb4-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#  `Gasto Mensal - Total da Cesta`    ...2          </span></span>
<span id="cb4-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   &lt;chr&gt;                              &lt;chr&gt;         </span></span>
<span id="cb4-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1 11-2020                            629.179999999~</span></span>
<span id="cb4-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 2 12-2020                            631.460000000~</span></span>
<span id="cb4-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 3 01-2021                            654.149999999~</span></span>
<span id="cb4-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 4 Fonte: DIEESE                      NA            </span></span>
<span id="cb4-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 5 (1) Série recalculada, conforme mudança metodológica realizada # na ~ NA            </span></span>
<span id="cb4-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 6 Tomada especial de preços a partir de abril de 2020 NA    </span></span></code></pre></div>
<p>Como esperado, só reforça a necessidade de um tratamento simples nos dados. <em>A priori</em> é uma “limpeza” de linhas indesejadas.</p>
<p>Por boas práticas, irei modificar o “nome” do objeto (data frame), pois CB é mais simples e fácil que cesta_basica.</p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">CB <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> cesta_basica <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span>          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># criando um objeto reduzindo</span></span>
<span id="cb5-2">                                <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># o nome do dataframe para CB</span></span>
<span id="cb5-3">                                <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ao inves de cesta_basica</span></span>
<span id="cb5-4">                                <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># e usando o operador " %&gt;% "</span></span>
<span id="cb5-5">  </span>
<span id="cb5-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename</span>(                       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># funcao para renomear colunas</span></span>
<span id="cb5-7">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Data =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Gasto Mensal - Total da Cesta</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span>,</span>
<span id="cb5-8">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Valor =</span> ...<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span></span>
<span id="cb5-9">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span>                       </span>
<span id="cb5-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">slice</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">255</span>)                  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># funcao que corta os dados</span></span>
<span id="cb5-11">                                <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># retirando apenas o desejado</span></span></code></pre></div>
<p>Agora temos que verificar as características dos nossos dados. Utilizo a função <code>srt()</code>.</p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str</span>(CB)</span>
<span id="cb6-2"></span>
<span id="cb6-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tibble [254 x 2] (S3: tbl_df/tbl/data.frame)</span></span>
<span id="cb6-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># $ Data : chr [1:254] "01-2000" "02-2000" "03-2000" "04-2000" ...</span></span>
<span id="cb6-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># $ Valor: chr [1:254] "112.22" "110.8" "115.13" "115.92" ...</span></span></code></pre></div>
<p>Temos 254 observacoes e 2 colunas (variaveis) as 2 variaveis estao em formato -<code>chr</code>- caracteres e precisamos modificar esses formatos, passando a variavel <code>Valor</code> para o formato númerico, e a variável Data como datas, para isso utilizaremos os passos a seguir:</p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">CB <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> CB <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span>                   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># substituindo o dataframe</span></span>
<span id="cb7-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(                      <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># funcao p/ modificar variaveis</span></span>
<span id="cb7-3">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Data =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(            <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Substituindo a variavel Data</span></span>
<span id="cb7-4">                               <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># por uma variavel no formato de datas</span></span>
<span id="cb7-5">                               <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># criando uma sequencia de datas</span></span>
<span id="cb7-6">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">from =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2000-01-01"</span>),</span>
<span id="cb7-7">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">to =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2021-01-01"</span>),</span>
<span id="cb7-8">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1 month"</span></span>
<span id="cb7-9">    )),</span>
<span id="cb7-10">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Valor =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(Valor) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># modificando a variavel ´Valor´</span></span>
<span id="cb7-11">                              <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># para o formato numerico</span></span>
<span id="cb7-12">  )</span>
<span id="cb7-13"></span>
<span id="cb7-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Erro: Problem with `mutate()` input `Data`.</span></span>
<span id="cb7-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># x Input `Data` can't be recycled to size 254.</span></span>
<span id="cb7-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># i Input `Data` is `rep(...)`.</span></span>
<span id="cb7-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># i Input `Data` must be size 254 or 1, not 253.</span></span></code></pre></div>
<p>Percebemos esse erro que significa que o vetor de datas que tentamos criar nao é do mesmo “tamanho” que a variavel Data anterior. A variavel Data tem 254 observacoes e nosso vetor de datas tem apenas 253. Totalmente sem sentido, pois criamos um vetor de datas que segue uma sequencia mes a mes de 01/01/2000 ate 01/01/2021.</p>
<p><em>A priori</em>, temos a hipótese de que há valores e data repetidas como a base de dados eh pequena (254 obs) usaremos a funcao View() para ver a base completa e entende-la para encontrar a observacao repetida.</p>
<p>Encontramos a observacao 193, com a data 12-2015 (1) e valor de 418.13. Como nao pesquisei a fundo o motivo, vou considerar como um reajuste no valor, entao irei retirar a observacao anterior (192).</p>
<p>Vou utilizar novamente o codigo acima, porém com um <em>upgrade</em>, adicionarei a funcao slice() para recortar a observacao 192.</p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1">CB <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> CB <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span>                   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># substituindo o dataframe</span></span>
<span id="cb8-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">slice</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">192</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span>              <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># funcao p/ recortar </span></span>
<span id="cb8-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(                      <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># funcao p/ modificar variaveis</span></span>
<span id="cb8-4">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Data =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(            <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Substituindo a variavel Data</span></span>
<span id="cb8-5">                               <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># por uma variavel no formato de dadtas</span></span>
<span id="cb8-6">                               <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># criando uma sequencia de datas</span></span>
<span id="cb8-7">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">from =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2000-01-01"</span>), </span>
<span id="cb8-8">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">to =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2021-01-01"</span>), </span>
<span id="cb8-9">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1 month"</span></span>
<span id="cb8-10">    )),</span>
<span id="cb8-11">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Valor =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(Valor)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># modificando a variavel ´Valor´</span></span>
<span id="cb8-12">                               <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># para o formato numerico</span></span>
<span id="cb8-13">  )</span></code></pre></div>
<p>Agora vamos para a parte mais delicada de todo o desafio: criar a visualização, ou seja, reproduzir um gráfico parecido com o gráfico que foi publicado pelo Economista Visual.</p>
<p>Antes de construir o gráfico, vamos elaborar a customização de uma tema para aplicar juntamente com o pacote <code>ggplot2</code>. Esta customização nos ajudará a gerar um gráfico parecido.</p>
<p>Na construção do tema, precisamos usar a mesma fonte que o Economista Visual usa em seu gráfico, mas preferir não investigar qual fonte é usada, e usei uma fonte qualquer. Decidir usar a fonte Teko, que pode ser encontrada no <a href="https://fonts.google.com/specimen/Teko?preview.text_type=custom">Google Fonts</a></p>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1">custom_theme <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(){</span>
<span id="cb9-2">  font <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Teko"</span>             <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># definindo a fonte a ser utilizada</span></span>
<span id="cb9-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(</span>
<span id="cb9-4">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Elementos de grade e painel</span></span>
<span id="cb9-5">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.border =</span>  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># sem borda</span></span>
<span id="cb9-6">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid.major.x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># sem grades em X</span></span>
<span id="cb9-7">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid.minor.x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># sem grades em X</span></span>
<span id="cb9-8">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid.major.y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_line</span>(</span>
<span id="cb9-9">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#d2d2d2"</span>                      <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># cor para a linha</span></span>
<span id="cb9-10">    ),                                     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># da grade em Y</span></span>
<span id="cb9-11">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid.minor.y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># sem grades menor em Y,     </span></span>
<span id="cb9-12">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.ticks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tira pontos do eixo</span></span>
<span id="cb9-13">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Elementos textuais</span></span>
<span id="cb9-14">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(             <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Titulo</span></span>
<span id="cb9-15">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">family =</span> font,                       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># definir font</span></span>
<span id="cb9-16">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>,                           <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># definir tamanho</span></span>
<span id="cb9-17">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">face =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'bold'</span>,                       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># negrito</span></span>
<span id="cb9-18">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>,                     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># cor da fonte</span></span>
<span id="cb9-19">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>,                           <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ajuste p/ esquerda*</span></span>
<span id="cb9-20">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>),                          </span>
<span id="cb9-21">    </span>
<span id="cb9-22">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># *O valor de hjust e vjust sao </span></span>
<span id="cb9-23">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># definidos entre 0 e 1:</span></span>
<span id="cb9-24">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 0 significa justificado a esquerda</span></span>
<span id="cb9-25">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1 significa justificado a direita</span></span>
<span id="cb9-26">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 0.5 significa justificado ao meio</span></span>
<span id="cb9-27">    </span>
<span id="cb9-28">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.subtitle =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Sub-titulo</span></span>
<span id="cb9-29">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">family =</span> font,                       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># fonte</span></span>
<span id="cb9-30">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>,                       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># cor da fonte</span></span>
<span id="cb9-31">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>),                          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tamanho</span></span>
<span id="cb9-32">      </span>
<span id="cb9-33">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.caption =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(           <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Legenda</span></span>
<span id="cb9-34">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">family =</span> font,                       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># fonte</span></span>
<span id="cb9-35">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">9</span>,                            <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tamanho da fonte</span></span>
<span id="cb9-36">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">face =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"italic"</span>,                     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># italico</span></span>
<span id="cb9-37">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#4c4c4c"</span>,                  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># cor da fonte</span></span>
<span id="cb9-38">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>),                          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ajuste a esquerda</span></span>
<span id="cb9-39">    </span>
<span id="cb9-40">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(             <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Titulo dos eixos</span></span>
<span id="cb9-41">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">family =</span> font,                       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># fonte</span></span>
<span id="cb9-42">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">face =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'bold'</span>,                       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># negrito</span></span>
<span id="cb9-43">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#2e2e2e"</span>,                   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># cor da fonte</span></span>
<span id="cb9-44">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>),                          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tamanho</span></span>
<span id="cb9-45">    </span>
<span id="cb9-46">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.text =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(              <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Texto dos eixos</span></span>
<span id="cb9-47">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">family =</span> font,                       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># fonte</span></span>
<span id="cb9-48">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#2e2e2e"</span>,                   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># cor</span></span>
<span id="cb9-49">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">9</span>),                           <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tamanho</span></span>
<span id="cb9-50">    </span>
<span id="cb9-51">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.text.x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(            <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># margem p/ texto dos eixos</span></span>
<span id="cb9-52">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#2e2e2e"</span>,                   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># cor</span></span>
<span id="cb9-53">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">margin=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">margin</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">b =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)),</span>
<span id="cb9-54">    </span>
<span id="cb9-55">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.text.y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(            <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># margem p/ texto dos eixos</span></span>
<span id="cb9-56">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#2e2e2e"</span>,                   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># cor</span></span>
<span id="cb9-57">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">margin=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">margin</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">b =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>)),</span>
<span id="cb9-58">    </span>
<span id="cb9-59">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bottom"</span>,              <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Posição da legenda</span></span>
<span id="cb9-60">                                           <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># bottom = meio-inferior</span></span>
<span id="cb9-61">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Anular o título da legenda</span></span>
<span id="cb9-62">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.text =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(</span>
<span id="cb9-63">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#2e2e2e"</span>,                    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># cor da legenda </span></span>
<span id="cb9-64">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">family =</span> font                        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># fonte</span></span>
<span id="cb9-65">    ),</span>
<span id="cb9-66">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(</span>
<span id="cb9-67">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#f7efd8"</span>,                    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># cor de fundo do grafico</span></span>
<span id="cb9-68">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span></span>
<span id="cb9-69">      ),</span>
<span id="cb9-70">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(</span>
<span id="cb9-71">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#f7efd8"</span>,                    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># cor de fundo do painel</span></span>
<span id="cb9-72">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span></span>
<span id="cb9-73">      )</span>
<span id="cb9-74">    </span>
<span id="cb9-75">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># since the legend often requires manual tweaking </span></span>
<span id="cb9-76">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># based on plot content, don't define it here</span></span>
<span id="cb9-77">  )</span>
<span id="cb9-78">}</span></code></pre></div>
<p>Com esse bloco de código acima, definimos o tema personalizado para aplicarmos ao gráfico. O gráfico do Economista Visual, usa uma fonte diferente do comum, fonte que não sei qual é, e o seu título e sub-título na cor preta com ajuste a esquerda (definimos isso no tema que customizamos acima), texto nos eixos em uma cor parecido com um cinza numa escala mais clara, a mesma cor para a legenda que também é ajustada a esquerda, e por fim, o gráfico é do tipo linha, na cor vermelha com um efeito “glow”, ponto sólido menor que o circulo, e anotação em texto, tudo na cor vermelha.</p>
<p>O eixo X é composto pelos anos observados (datas), e a escala do eixo X inicia no ano 2000 e termina no ano 2021 com intervalos a cada 1 ano. Já no eixo Y, temos os valores na escala de 0 a 700, com intervalo a cada 100.</p>
<p>Tendo essas informações em mente, é hora de elaborarmos o gráfico. Para isso, será utilizado as funções do pacote <code>ggplot2</code> e aplicaremos o tema customizado para ajustar a estética do nosso gráfico ao gráfico do Economista Visual.</p>
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1">plot <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> CB <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span>              <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># definindo o gráfico</span></span>
<span id="cb10-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span>Data)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># adicionando apenas o eixo X</span></span>
<span id="cb10-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(                <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1° linha do eixo Y</span></span>
<span id="cb10-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Valor),         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># definindo o Valor para o eixo Y</span></span>
<span id="cb10-5">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>,               <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># espessura da linha</span></span>
<span id="cb10-6">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'#e20000'</span>,     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># cor (esolhi um verlho aleatorio)</span></span>
<span id="cb10-7">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>             <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># alpha mede a transparência</span></span>
<span id="cb10-8">    ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(                <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 2° linha do eixo Y</span></span>
<span id="cb10-10">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Valor),         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># definindo o Valor para o eixo Y</span></span>
<span id="cb10-11">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>,               <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># espessura (menor que a 1°)</span></span>
<span id="cb10-12">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'#e20000'</span>,     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># cor (a mesma cor para todas)</span></span>
<span id="cb10-13">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>             <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># transparência (maior que a 1°)</span></span>
<span id="cb10-14">    ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(                <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 3° linha do eixo Y</span></span>
<span id="cb10-16">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Valor),         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># definindo o Valor para o eixo Y</span></span>
<span id="cb10-17">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,               <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># espessura (menor que a 2°) </span></span>
<span id="cb10-18">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'#e20000'</span>,     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># cor</span></span>
<span id="cb10-19">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>             <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># transparência (maior que a 2°)</span></span>
<span id="cb10-20">    ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-21">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(                <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 4° linha do eixo Y</span></span>
<span id="cb10-22">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Valor),         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># definindo o Valor para o eixo Y</span></span>
<span id="cb10-23">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.75</span>,            <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># espessura (menor que a 3°)</span></span>
<span id="cb10-24">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'#e20000'</span>      <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># cor</span></span>
<span id="cb10-25">    ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>                     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># sem alpha, para deixar a cor sólida</span></span>
<span id="cb10-26">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">annotate</span>(                 <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1° anotação 1/3</span></span>
<span id="cb10-27">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">geom=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span>,            <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tipo de anotação: texto</span></span>
<span id="cb10-28">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2000-01-01"</span>), <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ponto que a anotação deve aparecer</span></span>
<span id="cb10-29">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">160</span>,                  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ajustando a altura do anotação</span></span>
<span id="cb10-30">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"R$ 112,22"</span>,      <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Texto de referência</span></span>
<span id="cb10-31">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>,                 <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tamanho do texto</span></span>
<span id="cb10-32">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#e20000"</span>,      <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># cor do texto (a mesma da linha)</span></span>
<span id="cb10-33">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">family =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Teko"</span>         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># fonte do texto (opcional)</span></span>
<span id="cb10-34">    ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-35">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">annotate</span>(                 <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1° anotação 2/3</span></span>
<span id="cb10-36">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">geom=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"point"</span>,           <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tipo de anotação: ponto</span></span>
<span id="cb10-37">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2000-01-01"</span>), <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ponto que a anotação deve aparecer</span></span>
<span id="cb10-38">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">112</span>,                  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ponto cruzado entre X e Y</span></span>
<span id="cb10-39">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>,                 <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tamanho do ponto</span></span>
<span id="cb10-40">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#e20000"</span>       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># cor do ponto</span></span>
<span id="cb10-41">    ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-42">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">annotate</span>(                 <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1° anotação 3/3</span></span>
<span id="cb10-43">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">geom=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"point"</span>,           <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tipo de anotação: ponto</span></span>
<span id="cb10-44">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2000-01-01"</span>), <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ponto que a anotação de aparecer</span></span>
<span id="cb10-45">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">112</span>,                  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ponto cruzado entre X e Y</span></span>
<span id="cb10-46">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>,                 <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tamanho do ponto</span></span>
<span id="cb10-47">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">shape=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,               <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># formato do ponto</span></span>
<span id="cb10-48">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"transparent"</span>,     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># preenchimento transparente</span></span>
<span id="cb10-49">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#e20000"</span>         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># cor, aplica somente na borda </span></span>
<span id="cb10-50">    ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-51">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">annotate</span>(                 <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 2° anotação 1/3</span></span>
<span id="cb10-52">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">geom=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span>,            <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tipo de anotação: texto</span></span>
<span id="cb10-53">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2016-01-01"</span>), <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ponto que a anotação deve aparecer</span></span>
<span id="cb10-54">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">500</span>,                  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ajustando a altura da anotação</span></span>
<span id="cb10-55">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"R$ 448,31"</span>,      <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># texto de referência</span></span>
<span id="cb10-56">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>,                 <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tamanho do texto</span></span>
<span id="cb10-57">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#e20000"</span>,      <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># cor do texto</span></span>
<span id="cb10-58">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">family =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Teko"</span>         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># fonte do texto</span></span>
<span id="cb10-59">    ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-60">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">annotate</span>(                 <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 2° anotação 2/3</span></span>
<span id="cb10-61">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">geom=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"point"</span>,           <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tipo de anotação: ponto</span></span>
<span id="cb10-62">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2016-01-01"</span>), <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ponto que a anotação deve aparecer</span></span>
<span id="cb10-63">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">448.31</span>,               <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ponto cruzado entre X e Y</span></span>
<span id="cb10-64">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>,                 <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tamanho do ponto</span></span>
<span id="cb10-65">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#e20000"</span>       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># cor do ponto</span></span>
<span id="cb10-66">    ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-67">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">annotate</span>(                 <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 2° anotação 3/3</span></span>
<span id="cb10-68">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">geom=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"point"</span>,           <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tipo da anotação: ponto</span></span>
<span id="cb10-69">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2016-01-01"</span>), <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ponto que a anotação deve aparecer</span></span>
<span id="cb10-70">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">448.31</span>,               <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ponto cruzado entre X e Y</span></span>
<span id="cb10-71">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>,                 <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tamanho do ponto</span></span>
<span id="cb10-72">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">shape=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,               <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># formato do ponto</span></span>
<span id="cb10-73">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"transparent"</span>,     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># preenchimento transparente</span></span>
<span id="cb10-74">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#e20000"</span>         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># cor somente na borda</span></span>
<span id="cb10-75">    ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-76">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">annotate</span>(                 <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 3° anotação 1/3</span></span>
<span id="cb10-77">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">geom=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span>,            <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tipo de anotação: texto</span></span>
<span id="cb10-78">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2021-01-01"</span>), <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ponto que a anotação deve aparecer</span></span>
<span id="cb10-79">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">700</span>,                  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ajustando a altura da anotação</span></span>
<span id="cb10-80">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"R$ 654,15"</span>,      <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># texto de referência</span></span>
<span id="cb10-81">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>,                 <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tamanho do texto</span></span>
<span id="cb10-82">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#e20000"</span>,      <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># cor do texto</span></span>
<span id="cb10-83">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">family =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Teko"</span>         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># fonte do texto</span></span>
<span id="cb10-84">    ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-85">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">annotate</span>(                 <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 3° anotação 2/3</span></span>
<span id="cb10-86">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">geom=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"point"</span>,           <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tipo de anotação: ponto</span></span>
<span id="cb10-87">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2021-01-01"</span>), <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ponto que a anotação deve aparecer</span></span>
<span id="cb10-88">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">654.15</span>,               <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ponto cruzado entre X e Y</span></span>
<span id="cb10-89">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>,                 <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tamanho do ponto</span></span>
<span id="cb10-90">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#e20000"</span>       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># cor do ponto</span></span>
<span id="cb10-91">    ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-92">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">annotate</span>(                 <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 3° anotação 3/3</span></span>
<span id="cb10-93">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">geom=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"point"</span>,           <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tipo de anotação: ponto</span></span>
<span id="cb10-94">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2021-01-01"</span>), <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ponto que a anotação deve aparecer</span></span>
<span id="cb10-95">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">654.15</span>,               <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ponto cruzado entre X e Y</span></span>
<span id="cb10-96">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>,                 <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tamanho do ponto</span></span>
<span id="cb10-97">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">shape=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,               <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># formato do ponto</span></span>
<span id="cb10-98">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"transparent"</span>,     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># preenchimento transparente</span></span>
<span id="cb10-99">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#e20000"</span>         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># cor somente na borda</span></span>
<span id="cb10-100">    ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-101">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(                     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># rótulos</span></span>
<span id="cb10-102">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,               <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># anula rótulo do eixo X</span></span>
<span id="cb10-103">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,               <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># anula rótulo do eixo Y</span></span>
<span id="cb10-104">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># título</span></span>
<span id="cb10-105">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Valor da cesta básica'</span>,</span>
<span id="cb10-106">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># sub-título</span></span>
<span id="cb10-107">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Com base na cidade de São Paulo-SP"</span>,</span>
<span id="cb10-108">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># legenda</span></span>
<span id="cb10-109">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Fonte: https://www.dieese.org.br/cesta/ </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">DataViz: @hcostax'</span></span>
<span id="cb10-110">    ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-111">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_date</span>(             <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># definindo escalas p/ eixo X</span></span>
<span id="cb10-112">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_breaks =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1 year"</span>,   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># intervalos de 1 ano</span></span>
<span id="cb10-113">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_labels =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y"</span>        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># rotular somente o ano</span></span>
<span id="cb10-114">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-115">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># definindo escalas p/ eixo Y</span></span>
<span id="cb10-116">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(           <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># definindo o intervalo</span></span>
<span id="cb10-117">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">from =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, </span>
<span id="cb10-118">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">to =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">700</span>, </span>
<span id="cb10-119">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span></span>
<span id="cb10-120">      ),</span>
<span id="cb10-121">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">limits=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">700</span>),       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># definindo os limites</span></span>
<span id="cb10-122">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> scales<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dollar_format</span>( <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># adicionando notação monetária</span></span>
<span id="cb10-123">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prefix=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"R$"</span>           <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># definindo como "R$" real brasileiro</span></span>
<span id="cb10-124">      )</span>
<span id="cb10-125">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-126">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">custom_theme</span>()            <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># aplicando o tema customizado</span></span>
<span id="cb10-127"></span>
<span id="cb10-128"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ---</span></span>
<span id="cb10-129"></span>
<span id="cb10-130"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(plot)                 <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># gerando o gráfico</span></span>
<span id="cb10-131"></span>
<span id="cb10-132"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ---</span></span></code></pre></div>
<p>Esse enorme bloco de código gera o gráfico final. O resultado foi bastante satisfatório (p/ mim, rsrs). Após executar todos esses passos temos o gráfico:</p>
<p><a href="./img/cesta_basica.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="https://henriqueqrm.netlify.app/blog/desafio_EconViz_01/img/cesta_basica.png" class="img-fluid"></a></p>
<p>O gráfico não ficou exatamente igual ao gráfico publicado no perfil do Economista Visual no instagram, mas chegamos bem próximo. O objetivo aqui foi reproduzir a informação, e para deixar mais divertido, reproduzir aos moldes do original.</p>
<p>Você também pode reproduzir isso escolhendo a cidade que quiser.</p>
<p>Confira o código completo no meu <a href="https://github.com/hcostax/01---Desafio_EconomistaVisual">Github</a>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Ei! 👋, você achou meu trabalho útil? Considere me comprar um café ☕, clicando aqui 👇🏻
</div>
</div>
<div class="callout-body-container callout-body">
<p><a href="https://www.buymeacoffee.com/hcostax"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&amp;emoji=&amp;slug=hcostax&amp;button_colour=5F7FFF&amp;font_colour=ffffff&amp;font_family=Cookie&amp;outline_colour=000000&amp;coffee_colour=FFDD00"></a></p>
</div>
</div>



<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-costa2021" class="csl-entry quarto-appendix-citeas">
Costa, Henrique. 2021. <span>“Reproduzindo Gráfico Do Economista Visual
- Valor Da Cesta Básica (PT-BR).”</span> February 20, 2021. <a href="https://doi.org/10.59350/y7tgs-0v282">https://doi.org/10.59350/y7tgs-0v282</a>.
</div></div></section></div> ]]></description>
  <category>R</category>
  <category>DataViz</category>
  <guid>https://henriqueqrm.netlify.app/blog/desafio_EconViz_01/</guid>
  <pubDate>Sat, 20 Feb 2021 03:00:00 GMT</pubDate>
  <media:content url="https://henriqueqrm.netlify.app/blog/desafio_EconViz_01/feature.png" medium="image" type="image/png" height="103" width="144"/>
</item>
<item>
  <title>Can Economists Become Data Scientists?</title>
  <dc:creator>Henrique Costa</dc:creator>
  <link>https://henriqueqrm.netlify.app/blog/economists_in_data_science/</link>
  <description><![CDATA[ 

<!-- source: https://github.com/gadenbuie/garrickadenbuie-com/blob/main/_partials/title-block-link-buttons/title-block.html -->
<!-- 
<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title"> 
-->
<!-- <header id="title-block-header" class="quarto-title-block default page-columns"> -->
<!-- <div class="quarto-title page-columns page-full featured-image p-4" style="background-image: url(featured.png), url(featured.jpg), url(../featured.jpg);"> -->



<p><a href="feature.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="https://henriqueqrm.netlify.app/blog/economists_in_data_science/feature.jpg" class="img-fluid"></a></p>
<p>When it comes to job titles, data scientist is one of the biggest buzzwords in recent years. It is also one of the fastest growing fields of professional activity. Can an economist really be a data scientist? What skills are needed?</p>
<p>Exposed as the <a href="https://hbr.org/2012/10/data-scientist-the-sexiest-job-of-the-21st-century">“sexiest job of the 21st century”</a> by <strong><em>Harvard Business Review</em></strong>, here I will discuss the reasons why an economist proclaims himself as a Data Scientist, and that goes far beyond <em>hype</em>.</p>
<p>Data Scientist, this is the new field of activity that everyone is talking about these days, and that almost everyone wants to be part of it now. It is certainly a very interesting field of professional activity, as it was born from the combination of multidisciplinary and complementary techniques, which did not require much scientific formalism and academic consolidation to be called a Science or Profession. Why?</p>
<p>The term and the field of activity have existed for a long time, but thinking about the <em>hype</em> that perhaps it is for a simple reason: the first to give themselves the luxury of calling themselves Data Scientist, were already excellent professionals in the techniques they corroborated for its creation, that is, they were already qualified professionals in certain areas that today have been shaped as necessary techniques to be a Data Scientist.</p>
<p>It is not particularly easy to define Data Science as a whole or in main “necessary” techniques, but here I want to talk about why an economist can proclaim himself as a “Data Scientist”.</p>
<p>As some people may know, on LinkedIn or elsewhere (social media), some professionals call themselves Data Scientists. But why? How did these people become data scientists? Why after studying Physics, Computer Engineering, Mathematics, Statistics, Economics or any other professional training are now suddenly part of this field? This is among other questions that many ask.</p>
<section id="why-can-an-economist-be-a-data-scientist" class="level2">
<h2 class="anchored" data-anchor-id="why-can-an-economist-be-a-data-scientist">Why can an economist be a data scientist?</h2>
<p>The great thing here is that it is not necessary to study this in a “formal school”, such as professional courses, technologists or a university degree (of course, nowadays there are all these things, even postgraduate programs focused on this area , but as we are living in the information age, where a cascade of information is available on the internet and freely accessible, the need to have a certificate or diploma is almost nil), so why should I, as an economist, have the right to call me a Data Scientist?</p>
<p>If you think about it, we are used to following the path where you graduate in a specific field like Economics, so you have the right to call yourself an Economist, but what happens when a new field is developing, and you are a part of it? of this growth, and also there was no specific degree or postgraduate degree to become a part of this field?</p>
<p>Economists have a set of skills that can make them successful in this area. Economists have extensive training in articulating complex ideas, something that students in other disciplines often may not have, such as <em>business sense</em> where the value generated is <em>business insight</em>.</p>
<p>We can ask Economics students a fuzzy question or problem and they answer it with <em>priori</em> and <em>posteriori</em> analysis based on information (data), and then convert it back into understandable words that a non-economist could understand . This is a very important skill to become a Data Scientist, and one that professionals lack.</p>
<p>Most Data Scientists do not approach problems like Economists do, when they carry out their studies and analyzes using econometrics. In Data Science there is no unifying theory, the objective is to predict the results of the data, the approach has its merits, and predictions prevail in the industry.</p>
<p>However, your training as an economist will help you avoid drawing some inappropriate conclusions from the data, as many data scientists don’t have the <em>feeling</em> for how deep structural changes can undermine predictions.</p>
<p>But I want to suggest here that economics is — surprisingly — a great foundation for Data Science.</p>
<p>Yes! Yes! Yes! Please give me a chance to explain further. I know I’m biased, but I believe there aren’t many courses that will give you better training to work in Data Science than economics.</p>
</section>
<section id="ok-and-so-is-an-economist-a-data-scientist-or-not-how-it-works" class="level2">
<h2 class="anchored" data-anchor-id="ok-and-so-is-an-economist-a-data-scientist-or-not-how-it-works">OK! And so? Is an Economist a Data Scientist or not? How it works?</h2>
<p>Looking closely at the descriptions of common positions in Data Science, and the range of subjects at universities that offer undergraduate courses in economics, one can quickly deduce that economics would not be the best training to have.</p>
<p>Because most economics programs don’t teach programming languages and databases, not even about projects. What the hell is this <strong>R</strong> guy? <strong>Python</strong>? And what about <em>Hadoop</em>? And there’s still <em>Hive</em> and <em>Pig</em>? And now there’s <strong>TensorFlow</strong>. This has to be a joke!</p>
<p>Specific skills such as programming and databases are not included in the curriculum or the most important, however, studying Economics can provide a <em>framework</em> that will allow you to learn specific skills quickly. And a good economic education is indeed a solid <em>background</em> to have.</p>
<p>There are professionals who defend this thesis, as is the case of <a href="https://twitter.com/vitorwilherbr">Vítor Wilher</a>, who, in addition to having a master’s degree in economics and responsible for the website <a href="https://analisemacro.com.br/">Análise Macro</a>, He is also a teacher of several programming courses in the R language and data analysis.</p>
<p>This discussion about the importance of knowing how to program a language as a tool that offers an excellent relationship between analytical capacity, data collection and presentation, as well as the potential that this can offer for students and professionals, especially for young people at the beginning of their careers in Economy.</p>
<p>Some reasons that Economists make great Data Scientists, and that no one tells them:</p>
<section id="economist-already-knows-machine-learning" class="level3">
<h3 class="anchored" data-anchor-id="economist-already-knows-machine-learning">Economist already knows machine learning!</h3>
<p>Before you think about stopping reading, thinking that this article is already “travelling” or that the writer must have gone to a very strange economics college to learn about machine learning, but be careful:</p>
<p>Machine learning is really just a fancy word for statistical and predictive modeling that programmers invented to make their business look better, get more attention, and even keep non-participants out of their club. Maybe they should know something about economics, after all — scarcity raises prices! (laughter).</p>
<p></p><div id="tweet-67070"></div><script>tweet={"url":"https:\/\/twitter.com\/hcostax\/status\/1173923414614188032","author_name":"Henrique Costa","author_url":"https:\/\/twitter.com\/hcostax","html":"\u003Cblockquote class=\"twitter-tweet\" align=\"center\"\u003E\u003Cp lang=\"pt\" dir=\"ltr\"\u003EAgora eu me sinto um Machine Learning Engineer, com meu framework em econometria. \uD83E\uDD2D\u003C\/p\u003E&mdash; Henrique Costa (@hcostax) \u003Ca href=\"https:\/\/twitter.com\/hcostax\/status\/1173923414614188032?ref_src=twsrc%5Etfw\"\u003ESeptember 17, 2019\u003C\/a\u003E\u003C\/blockquote\u003E\n\u003Cscript async src=\"https:\/\/platform.twitter.com\/widgets.js\" charset=\"utf-8\"\u003E\u003C\/script\u003E\n\n","width":550,"height":null,"type":"rich","cache_age":"3153600000","provider_name":"Twitter","provider_url":"https:\/\/twitter.com","version":"1.0"};document.getElementById("tweet-67070").innerHTML = tweet["html"];</script><p></p>
<p>A well-observed fact is that the first two modules of a machine learning course (I’m commenting on the most popular one on the Coursera website) are linear regression and logistic regression. (sarcastic laughter)</p>
<p>Well, 99.99% of economists who took an introductory econometrics course, this may surprise you, but these economists probably have a deeper knowledge of linear regression than a junior or full-time data scientist.</p>
<p>Just as it can be scary to come across names like “neural networks” or <em>“support vector machines — SVM”</em>, the economist would possibly have to work very hard, even break a sweat to find the term “heteroscedasticity” anywhere in machine learning programs.</p>
<p>To learn more, access these guides:</p>
<ul>
<li><p><a href="http://karpathy.github.io/neuralnets/">Hacker’s guide to Neural Networks</a></p></li>
<li><p><a href="http://iamtrask.github.io/2015/07/12/basic-python-network/">A Neural Network in 11 lines of Python</a></p></li>
</ul>
<p>But of course, neural networks can be a very deep field, much deeper than the way it has been described. Just like <em>Recurrent nets</em>, <em>convolutional nets</em>, <em>deep learning</em> are much more advanced and complex topics — and their algorithms are much more powerful.</p>
<p>But for most machine learning applications, an economist should do just fine with simple models: basic neural networks, binary decision trees, regressions, SVMs. And with the statistical basis of most economics courses and econometric applications, you will have no problem understanding these concepts quickly.</p>
</section>
<section id="economists-have-higher-standards" class="level3">
<h3 class="anchored" data-anchor-id="economists-have-higher-standards">Economists have higher standards</h3>
<p>Can you recite all the basic assumptions of the OLS method? What about all the possible threats to the internal and external validity of your model that could compromise your analysis?</p>
<p>Of course you can, I know you are nerds. (hahaha)</p>
<p>At least in my experience as an academic, the discipline of econometrics was temporarily obsessed with finding causal relationships—and making it very clear how difficult this phenomenon is to observe without randomized controlled trials.</p>
<p>Not to mention that most models are sensitive to their own basic assumptions. A serious talk would not end without someone mentioning another possible source of bias, attenuation bias, survival bias, selection bias, measurement error, reverse causality, truncation, censoring, omission, spurious correlation, etc.</p>
<p>For each problem, there was another model — even more complicated — to deal with it. A model that could also introduce its own baggage of assumptions and problems. The world of econometrics became confusing and more nebulous as the disciplines advanced, in addition to creating the impression of being uncertain and frustratingly limiting. Then Artificial Intelligence, <em>Machine Learning</em> and Data Science emerged to illuminate this dark path.</p>
<p><em><strong>Warning:</strong> gross exaggeration ahead.</em></p>
<p></p><div id="tweet-61874"></div><script>tweet={"url":"https:\/\/twitter.com\/hcostax\/status\/1169567629188763649","author_name":"Henrique Costa","author_url":"https:\/\/twitter.com\/hcostax","html":"\u003Cblockquote class=\"twitter-tweet\" align=\"center\"\u003E\u003Cp lang=\"pt\" dir=\"ltr\"\u003EUm dos momentos mais singulares da minha vida foi quando descobri que inteligência artificial é tudo modelo de otimização.\u003C\/p\u003E&mdash; Henrique Costa (@hcostax) \u003Ca href=\"https:\/\/twitter.com\/hcostax\/status\/1169567629188763649?ref_src=twsrc%5Etfw\"\u003ESeptember 5, 2019\u003C\/a\u003E\u003C\/blockquote\u003E\n\u003Cscript async src=\"https:\/\/platform.twitter.com\/widgets.js\" charset=\"utf-8\"\u003E\u003C\/script\u003E\n\n","width":550,"height":null,"type":"rich","cache_age":"3153600000","provider_name":"Twitter","provider_url":"https:\/\/twitter.com","version":"1.0"};document.getElementById("tweet-61874").innerHTML = tweet["html"];</script><p></p>
<p>Compared to all this, machine learning is wonderfully, charmingly simpler. Instead of solving models explicitly — based on strict assumptions — they are estimated iteratively with the gradient method (and its derivatives). Rather than testing or validating the theory behind the event you are trying to study, and carefully selecting explanatory variables and the appropriate model, you can try everything you can think of and see if the answer holds up.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="./img/einstein-machine-learning.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="Albert Einstein: “Insanity is continuing to do the same thing over and over again and expecting different results.” Machine Learning:"><img src="https://henriqueqrm.netlify.app/blog/economists_in_data_science/img/einstein-machine-learning.png" class="img-fluid figure-img" alt="Albert Einstein: “Insanity is continuing to do the same thing over and over again and expecting different results.” Machine Learning:"></a></p>
<figcaption>Albert Einstein: “Insanity is continuing to do the same thing over and over again and expecting different results.” Machine Learning:</figcaption>
</figure>
</div>
<p>Get used to cross-validation and testing, instead of <em>t-statistics</em>, why not try some <em>bootstrapping?</em> And talking about <em>bootstrapping</em>, there are already some studies going on the internet criticizing the use of this technique, but while the discussion does not consolidate, we will continue to use it.</p>
<p>For economists who are enthusiastic about econometrics, this may seem pure blasphemy. But this is only because the expectation is high of finding the same ML that was expected in econometrics. Inference and causal interpretation. However, most of the time, ML is aimed at predicting and finding patterns, not causality. For some models, you can’t simply say which variables are most important in predicting outcomes.</p>
<p>And yes! Unfortunately (I bring some truths) neural networks cannot be used to explain the causal effect of the minimum wage on unemployment. But Mr.&nbsp;Economist (who runs models) also cannot expect a model like logit (multinomial) to be used to recognize handwriting. What I want to say here is all about the correct use of the right tools in their applications — and I’m sure econometrics teaches you very well about this.</p>
</section>
<section id="economists-really-know-how-to-write-coherent-reports" class="level3">
<h3 class="anchored" data-anchor-id="economists-really-know-how-to-write-coherent-reports">Economists really know how to write coherent reports!</h3>
<p>In data science it’s not just about fancy algorithms, however, unless you’re an academic researcher who just writes theoretical papers (an isolated case, and if, only if, it’s true, you probably wouldn’t be reading this anyway). , the presentation of results and writing in a simple, concise and coherent way are present in economics.</p>
<p>If an economist works as a data scientist anywhere in the “real world”, and will have to present his results to non-technical audiences — managers, marketers and writers, and clients — he will have to be able to show why your results are important and how normal people can use and act on them.</p>
<p>As an economist, I bet that most economists wrote their fair share of articles, essays, reports, presentations and dissertations and theses in their temples — that little work or study room, gloomy and only inhabited by beings of their own species – - at university using <strong><em>MS Excel</em></strong>, perhaps a <strong><em>GRTL</em></strong>, the bravest <strong><em>E-Views</em></strong>, or even those <em>outliers</em> who venture into distant lands using * <strong>Stata</strong>*.</p>
<p><strong>Don’t underestimate this skill.</strong> It might generate some comments about how archaic this is, but the fact is that probably having this skill puts the economist well ahead of most computer scientists and mathematicians, statisticians or any other professional when it comes to generating robust analyses, presenting and explaining your work clearly — and bringing together longer texts that have structures and logic behind them (at least that’s what should happen, now whether that actually happens I don’t know, I’ll let this curiosity in the air).</p>
</section>
<section id="learning-programming-is-not-difficult" class="level3">
<h3 class="anchored" data-anchor-id="learning-programming-is-not-difficult">Learning programming is not difficult</h3>
<p>Unfortunately, to be a data scientist you will probably have to write code scripts. But not excluding the fact that economists did not need to program either. It is true that using Stata can be seen as “programming”, however, it is not a “proper” programming language, but it is a great introduction for those starting out in statistical computing. And if there is a possibility to continue to graduate school, many economics programs use other languages—Python is very common, as are R and Matlab.</p>
<p>To the delight of some, Python has become the “lingua franca” of data science, perhaps because it is a generalist language, in addition to being a very readable and easy-to-learn language. But <a href="https://twitter.com/hcostax">I</a> particularly like R (oops! Preference revealed, successfully detected), as it not only has a large selection of libraries, but also has a widely active community, in addition to be built precisely for this purpose.</p>
<p>The preference for the R language is because it is also powerful, but the syntax is seen as an “ABOMINATION” by programmers of other languages. Matlab is commercial software, and although it is great (and fast) at mathematical computing, and also has an open source alternative (Octave), it is not that common. Julia is a very obscure language and still a little too young to be considered a language that would be well suited to the activities of a data scientist, but it is known so far that users here in Brazil are increasing, even some professionals at the Central Bank of Brazil already use Julia.</p>
</section>
<section id="so-why-doesnt-anyone-tell-you-this" class="level3">
<h3 class="anchored" data-anchor-id="so-why-doesnt-anyone-tell-you-this">So why doesn’t anyone tell you this?</h3>
<p>Ultimately, economists should declare themselves as great data scientists, or at least own that term, or do as little as possible to acquire it. But then why doesn’t anyone at university tell them that this is a “real world” career choice? On the one hand, one of the reasons is that everything is relatively new. And course structures are slow to change, and how long it takes — favoring more traditional options in finance, academia, government.</p>
<p>In fact, the college I studied at has a <a href="http://www.roneyfraga.com/">professor</a>, better known as <a href="https://twitter.com/roneyfraga">Roney</a> who is striving to introduce this change, and add this to the training curriculum of undergraduate students, in addition to others such as professor <a href="https://www.facebook.com/profadrianomrfigueiredo/">Adriano</a> which has also adopted the use of these programming languages in teaching economics (to be more precise, in time series econometrics), but as said: the process is slow.</p>
<p>But don’t think that economists can’t act as data scientists in these areas mentioned (finance, academia, government), quite the contrary, it’s becoming more common every day. But I also think that there is still a bit of prejudice (or perhaps, a bit of fear) in the economic world against data science, as they defend the thesis that an economist entering into data science is beneath the main cause, as they are concerned with bigger issues.</p>
<p>I’m just sorry, because it’s a shame. Because economics gives its graduates a unique <em>blend</em> of (statistical) and <em>soft</em> (human) skills that are much harder to find in Mathematics departments. Computer Science, Statistics and others.</p>
<p>And perhaps data science roles only benefit from having careful economists (econometric enthusiasts) doing the work. This way, econometricians can make the best use of ML when it comes to testing and cross-validation and algorithmic estimation approaches.</p>
<p>So give yourself a chance and get to know this area that has immense growth potential for the future, and even <a href="https://qz.com/1296930/hal-varian-googles-chief-economist-thinks-the-world-needs-more-data-scientists/">Google’s Chief Economist</a> thinks the world needs more data scientists.</p>
<p>See if this catches your attention, and don’t think that just because you don’t know what Hessians are, you can’t get into Data Science.</p>
<p>I didn’t intend to make this a guide for economists on how to become data scientists. But it should possibly give you a lot of things to think about — and expand your range of possible career options. Keep an eye on the blog, as I will always be posting about this type of subject. In future publications I will be posting small applied exercises, using R or Python to awaken the reader’s curiosity to learn.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hey! 👋, did you find my work useful? Consider buying me a coffee ☕, by clicking here 👇🏻
</div>
</div>
<div class="callout-body-container callout-body">
<p><a href="https://www.buymeacoffee.com/hcostax"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&amp;emoji=&amp;slug =hcostax&amp;button_colour=5F7FFF&amp;font_colour=ffffff&amp;font_family=Cookie&amp;outline_colour=000000&amp;coffee_colour=FFDD00"></a></p>
</div>
</div>


</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-costa2018" class="csl-entry quarto-appendix-citeas">
Costa, Henrique. 2018. <span>“Can Economists Become Data
Scientists?”</span> October 29, 2018. <a href="https://doi.org/10.59350/ggmnk-ke432">https://doi.org/10.59350/ggmnk-ke432</a>.
</div></div></section></div> ]]></description>
  <category>Economics</category>
  <category>Theory</category>
  <category>Data Science</category>
  <category>Econometrics</category>
  <guid>https://henriqueqrm.netlify.app/blog/economists_in_data_science/</guid>
  <pubDate>Mon, 29 Oct 2018 03:00:00 GMT</pubDate>
  <media:content url="https://henriqueqrm.netlify.app/blog/economists_in_data_science/feature.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>The mathematization of Economics</title>
  <dc:creator>Henrique Costa</dc:creator>
  <link>https://henriqueqrm.netlify.app/blog/maths_economics/</link>
  <description><![CDATA[ 

<!-- source: https://github.com/gadenbuie/garrickadenbuie-com/blob/main/_partials/title-block-link-buttons/title-block.html -->
<!-- 
<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title"> 
-->
<!-- <header id="title-block-header" class="quarto-title-block default page-columns"> -->
<!-- <div class="quarto-title page-columns page-full featured-image p-4" style="background-image: url(featured.png), url(featured.jpg), url(../featured.jpg);"> -->



<p><a href="feature.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="https://henriqueqrm.netlify.app/blog/maths_economics/feature.jpg" class="img-fluid"></a></p>
<p>In today’s post, I want to start a discussion about the use of mathematics and statistics in economics, and with this shocking sentence:</p>
<p></p><div id="tweet-64840"></div><script>tweet={"url":"https:\/\/twitter.com\/hcostax\/status\/1167043313846935552","author_name":"Henrique Costa","author_url":"https:\/\/twitter.com\/hcostax","html":"\u003Cblockquote class=\"twitter-tweet\" align=\"center\"\u003E\u003Cp lang=\"en\" dir=\"ltr\"\u003EMathematical economics is a redundant expression.\u003Ca href=\"https:\/\/twitter.com\/hashtag\/economics?src=hash&amp;ref_src=twsrc%5Etfw\"\u003E#economics\u003C\/a\u003E \u003Ca href=\"https:\/\/twitter.com\/hashtag\/Economia?src=hash&amp;ref_src=twsrc%5Etfw\"\u003E#Economia\u003C\/a\u003E\u003C\/p\u003E&mdash; Henrique Costa (@hcostax) \u003Ca href=\"https:\/\/twitter.com\/hcostax\/status\/1167043313846935552?ref_src=twsrc%5Etfw\"\u003EAugust 29, 2019\u003C\/a\u003E\u003C\/blockquote\u003E\n\u003Cscript async src=\"https:\/\/platform.twitter.com\/widgets.js\" charset=\"utf-8\"\u003E\u003C\/script\u003E\n\n","width":550,"height":null,"type":"rich","cache_age":"3153600000","provider_name":"Twitter","provider_url":"https:\/\/twitter.com","version":"1.0"};document.getElementById("tweet-64840").innerHTML = tweet["html"];</script><p></p>
<p>When a person studies economics for the first time, it is likely that they will not encounter “crazy” equations that go beyond basic mathematics. There is a lot of content to learn the various conceptual definitions such as price, supply, demand, costs, profit, etc., in addition to the various market structures.</p>
<p>As you delve deeper into the subject, you realize there is more to it than just simplistic theories and newspaper chatter. So, what would be the best way to explain the concepts of price, quantity of product sold and production cost without referring to a single example without using mathematics?</p>
<p>This <em>paper</em>:</p>
<blockquote class="blockquote">
<p><em>KATZNER, Donald W. <a href="https://www.jstor.org/stable/4538849?seq=1">Why mathematics in economics?</a>. Journal of Post Keynesian Economics, v. 25, n.&nbsp;4, p.&nbsp;561-574, 2003.</em></p>
</blockquote>
<p>makes a very convincing defense of the use of mathematics in economic science.</p>
<p>Although economics is technically recognized as a social science, students who embark on a “nebulous” adventure (undergraduate course) in this field receive (or should receive) a solid foundation in mathematics. Because determining how scarce resources can be reallocated requires a minimum understanding of mathematics, to calculate what the distribution cost will be and evaluate (quantitatively) among other measures. Thus, the field of economics is full of mathematical equations and applications.</p>
<p>What is learned in teaching economics are mainly linear algebra, calculus and statistics. These are the basis for achieving the infamous econometrics. In algebra it is taught about total cost and total revenue. In calculus the objective is to find the derivatives of indifference and utility curves, profit maximization curves, cost minimization and growth models.</p>
<p>In statistics, economists learn about predictive models and how to determine how likely a certain event is to occur. Econometrics, for some peculiar reasons, is called <em>“economentira”</em> for the use of models in which the final objective is to estimate and predict a certain variable.</p>
<p></p><div id="tweet-83930"></div><script>tweet={"url":"https:\/\/twitter.com\/hcostax\/status\/1179532980265586688","author_name":"Henrique Costa","author_url":"https:\/\/twitter.com\/hcostax","html":"\u003Cblockquote class=\"twitter-tweet\" align=\"center\"\u003E\u003Cp lang=\"pt\" dir=\"ltr\"\u003EProfessor de Econometria: \u003Cbr\u003Ey = a + ß.X ... + u\u003Cbr\u003E\u003Cbr\u003Eeu:\u003Cbr\u003E\u003Cbr\u003E━━━━━┒ \u003Cbr\u003E┓┏┓┏┓┃ \u003Cbr\u003E┛┗┛┗┛┃＼○／ - não entendi \u003Cbr\u003E┓┏┓┏┓┃   \/        vo me mata\u003Cbr\u003E┛┗┛┗┛┃ノ) \u003Cbr\u003E┓┏┓┏┓┃ \u003Cbr\u003E┛┗┛┗┛┃ \u003Cbr\u003E┓┏┓┏┓┃ \u003Cbr\u003E┛┗┛┗┛┃ \u003Cbr\u003E┓┏┓┏┓┃ \u003Cbr\u003E┃┃┃┃┃┃\u003C\/p\u003E&mdash; Henrique Costa (@hcostax) \u003Ca href=\"https:\/\/twitter.com\/hcostax\/status\/1179532980265586688?ref_src=twsrc%5Etfw\"\u003EOctober 2, 2019\u003C\/a\u003E\u003C\/blockquote\u003E\n\u003Cscript async src=\"https:\/\/platform.twitter.com\/widgets.js\" charset=\"utf-8\"\u003E\u003C\/script\u003E\n\n","width":550,"height":null,"type":"rich","cache_age":"3153600000","provider_name":"Twitter","provider_url":"https:\/\/twitter.com","version":"1.0"};document.getElementById("tweet-83930").innerHTML = tweet["html"];</script><p></p>
<p>As you progress through related topics, you will find examples such as market demand curves (sum of several individual demand curves) or changes in the supply and price of a <em>commodity</em> or calculating the price elasticity of a commodity. consumption, each concept is validated using mathematics. Definitely, a mathematical and statistical approach is needed to have clarity when we arrive at the long-awaited “solution” to the problems proposed to professionals in this area.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="./img/econometria.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="A typical review for the basic econometrics final exam"><img src="https://henriqueqrm.netlify.app/blog/maths_economics/img/econometria.jpg" class="img-fluid figure-img" alt="A typical review for the basic econometrics final exam"></a></p>
<figcaption>A typical review for the basic econometrics final exam</figcaption>
</figure>
</div>
<p>It has been noted that in the 19th century mathematics was considered as a means of achieving truth; (rational) logic made it imperative to use mathematics to prove any theorems. Many problems posed in economics are therefore motivated to be solved by mathematics. Have these problems really been solved?</p>
<p>Analyzes and studies carried out in the field of applied economics help to explain the interdependent relationship between different variables. An example is trying to explain what causes an increase in the price of a product, such as the price of beef, or an increase in the unemployment rate, or even a drop in inflation and a reduction in the basic interest rate. Mathematical functions are used as a logical tool through <strong>models</strong> from which these phenomena of everyday life can become more understandable.</p>
<p>In fact, there is an exhaustive discussion about the importance of relevant applied work and the uses of these metrics in economic science. It is interesting to know that several economists have been awarded the <a href="https://pt.wikipedia.org/wiki/Pr%C3%A9mio_de_Ci%C3%AAncias_Econ%C3%B3micas_em_Mem%C3%B3ria_de_Alfred_Nobel">Nobel Prize</a> for applying mathematics/statistics to economics, including the first awarded in 1969 to <a href="https://www.jstor.org/stable/1402316?seq=1">Ragnar Frisch and JanTinbergen</a>. The most interesting thing is that <a href="https://pt.wikipedia.org/wiki/Leonid_Kantorovich">Leonid Kantorovich</a> he won a Nobel Prize in 1975 in economics for his contribution to the theory of optimal resource utilization and he was a mathematician!</p>
<p>Many students who are looking to pursue a career in economics are advised to take a Mathematics course, as applied studies are covered in mathematics. The use of mathematical models and applications in this area has been notable in the last two decades.</p>
<p><a href="https://valor.globo.com/eu-e/noticia/2012/10/23/como-a-teoria-economica-deixou-de-ser-uma-ciencia-sombria.ghtml">Economics — the science that stopped being dark</a>(In Brazilian Portuguese) , with advances in <a href="https://pt.wikipedia.org/wiki/Alfred_Marshall">Alfred Marshall</a>, with the well-known marginalist revolt that embraced the use of mathematics as an integral part of the economy, now more intensive than ever. Mathematics plays the main role in many sciences like physics, chemistry, etc. And it’s really the backbone of the modern economy.</p>
<p>Mathematics in economics is an important tool in decision making. Economists are hired by companies or governments to investigate and estimate the risk or likely outcomes of an event. Economists who work for companies in the financial market make mathematical calculations (models) to assess whether the risk of investing in a certain asset outweighs its potential benefits.</p>
<p>Economists use their mathematical “skills” to find ways to reallocate money, even in counterintuitive ways. Using a profit-maximization chart, economists can advise a venue to sell only 75% of available tickets, rather than 100%, a strategy to maximize its profit. If the company lowers ticket prices to attract new concert-goers and fill the stadium to capacity, it could make less money than selling just 75% of the tickets at a much higher price.</p>
<p>Economists also use mathematics to determine the long-term success of a business, even when some factors are unpredictable. For example, an economist working for an airline uses forecasting based on econometric models to determine the price of fuel for two months ahead. The company uses this data to block fuel prices or to protect the fuel, the famous <em>“hedge”</em>. Bijan Vasigh, author of the book <a href="https://www.amazon.com/Introduction-Air-Transport-Economics-Applications/dp/1409454878">“Introduction to Air Transport Economics”</a>, explains that the <a href="https://www.southwest.com">Southwest Airlines</a> gained a financial advantage over other operators due to its fuel hedging strategy.</p>
<p>However, not everything is rosy, much less a bed of roses, there are limitations to what can be done using econometric models in the economy. Economists perform mathematical calculations with imperfect information. Their economic models are useless in times of natural disasters, union strikes or any other catastrophic event. Furthermore, mathematics rarely helps economists predict irrational human behavior. A fundamental assumption of economics is that humans act rationally. However, humans often make irrational decisions based on choices and preferences, or even pure fear or love. These two factors cannot be accounted for in an economic model.</p>
<p>But there are already some techniques, including in the field of <em>Machine Learning</em> that try to solve such problems. But that is the subject of another post that I will make soon.</p>
<p>But the potential of these methods is recognized and therefore extremely useful, and economists are reviewing the way calculations are carried out to account for intangible effects, such as pollution. Mathematical models are necessarily based on simplifying assumptions, so they are not likely to be perfectly realistic. Mathematical models also lack the nuances that can be found in narrative models. The point is that mathematics is a tool, but it is not the only tool or even the best tool that economists should use.</p>
<p>So, what is your opinion regarding the use of mathematics and statistics in economic science? Is it possible to think about economics without at least mathematizing it?</p>
<p>Adapted from <a href="https://medium.com/the-empirical-mode/o-uso-da-matem%C3%A1tica-na-economia-6d6de2e39dab">original</a>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hey! 👋, did you find my work useful? Consider buying me a coffee ☕, by clicking here 👇🏻
</div>
</div>
<div class="callout-body-container callout-body">
<p><a href="https://www.buymeacoffee.com/hcostax"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&amp;emoji=&amp;slug =hcostax&amp;button_colour=5F7FFF&amp;font_colour=ffffff&amp;font_family=Cookie&amp;outline_colour=000000&amp;coffee_colour=FFDD00"></a></p>
</div>
</div>



<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-costa2018" class="csl-entry quarto-appendix-citeas">
Costa, Henrique. 2018. <span>“The Mathematization of Economics.”</span>
September 21, 2018. <a href="https://doi.org/10.59350/tvp77-8gp37">https://doi.org/10.59350/tvp77-8gp37</a>.
</div></div></section></div> ]]></description>
  <category>Economics</category>
  <category>Theory</category>
  <category>Mathematics</category>
  <guid>https://henriqueqrm.netlify.app/blog/maths_economics/</guid>
  <pubDate>Fri, 21 Sep 2018 03:00:00 GMT</pubDate>
  <media:content url="https://henriqueqrm.netlify.app/blog/maths_economics/feature.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>The Ceteris Paribus Condition</title>
  <dc:creator>Henrique Costa</dc:creator>
  <link>https://henriqueqrm.netlify.app/blog/ceteris_paribus/</link>
  <description><![CDATA[ 

<!-- source: https://github.com/gadenbuie/garrickadenbuie-com/blob/main/_partials/title-block-link-buttons/title-block.html -->
<!-- 
<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title"> 
-->
<!-- <header id="title-block-header" class="quarto-title-block default page-columns"> -->
<!-- <div class="quarto-title page-columns page-full featured-image p-4" style="background-image: url(featured.png), url(featured.jpg), url(../featured.jpg);"> -->



<p><a href="feature.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="https://henriqueqrm.netlify.app/blog/ceteris_paribus/feature.jpg" class="img-fluid"></a></p>
<p>I will present here some personal reflections on a concept that is considered very simple and perhaps common in economics, but which is labeled as the height of ignorance for making an assumption that cannot be observed in reality, but which in my view is a mistake. mistake. The concept: <em>ceteris paribus</em>, or better said “the <em>ceteris paribus</em> condition”.</p>
<p>Well, have you ever tried to imagine the meaning of <em>ceteris paribus?</em> The idea is somewhat simplistic, and means <strong>“everything else is constant”</strong> or <strong>“all other things remaining unchanged”</strong>. Nothing new on earth, because economists, students and enthusiasts know this condition well, and learn in the academic world that in economic analysis there is always this <em>ceteris paribus</em> thing.</p>
<p>Examining a fact under the condition that an effect <strong>X</strong>, <em>ceteris paribus</em> had a cause <strong>Y</strong>, or better said, that a specific effect occurs from an isolated cause without other potential causes interfering or not have no involvement.</p>
<p>If you think about this statement in depth, this condition seems a bit absurd, as in reality a specific effect never has an isolated cause, as it is a static look at dynamic events. There are many criticisms about this assumption, but most are based on a misinterpretation of the <em>ceteris paribus</em> condition.</p>
<p>Understanding the literal meaning of the term does not make you an expert user of it. It is a fact that observing or studying something and having to say that if everything else is constant, it goes beyond the idea that the results may be unrealistic. However, you need to abstract to understand. Is it possible for this condition to happen? As? And when does it occur?</p>
<p>If you want to carry out a methodologically in-depth study to understand scientific applications, please consume <strong>Chapter 2</strong> of this masterpiece:</p>
<blockquote class="blockquote">
<p><em>Schlicht, E. (1985). <a href="https://epub.ub.uni-muenchen.de/3/1/schlicht_isolation.pdf">Isolation and Aggregation in Economics</a>. [S.l.]: Springer Verlag. ISBN 0-387-15254-7</em>.</p>
</blockquote>
<p>To illustrate, I will simulate a situation and use an example where I prepare my morning coffee, and so by assumption, I will sweeten it (as sugar is not welcome in my coffee). So I have the following ingredients: water, sugar, and 100% Arabica coffee powder (my favorite). We know that to prepare coffee, roughly speaking, you just need to mix all the ingredients. Of course, as long as certain ingredients are suitable for this, as in the case of water, which must reach a preparation temperature (considered ideal) close to 90°C, but there is always that classic doubt: how much sugar would be ideal for sweetening? My coffee?</p>
<p>In econometric models there is a similar methodology: to estimate a variable <strong>Y</strong> it is necessary to mix the “effects” of variables <strong>X</strong>, as long as some variables <strong>X</strong> meet certain conditions, as there will be moments in which it will be necessary to apply transformations to the variables, changing from level to logarithmic, applying differences, among others. As is the process of changing the water temperature.</p>
<p>To solve this problem, a common economist will say:</p>
<blockquote class="blockquote">
<p>Hmm, Depends!</p>
</blockquote>
<p>But a Scientist will say:</p>
<blockquote class="blockquote">
<p>For an <em>ex-ante</em> analysis, it will be necessary to test hypotheses!</p>
</blockquote>
<p>Firstly, we outline two hypotheses that 1 liter of coffee will be prepared, and so 1 liter of water (at a temperature of 90°C), 4 spoons of coffee powder (as I like strong coffee) are used, so we can say the following :</p>
<ul>
<li><p>As an <strong>alternative hypothesis</strong>, the sugar value is zero, supposedly the presence of sugar in the drink is practically zero, so the drink “needs to be sweetened”.</p></li>
<li><p>As a <strong>null hypothesis</strong>, the sugar value is non-zero, where at least one spoon (or cube) of sugar is supposedly added, as we are curious about the positive marginal effects, so the drink is being sweetened.</p></li>
</ul>
<p>We are interested in inferring about the <strong>null hypothesis</strong>, as it is from there that we consider sweetening the drink, once the alternative hypothesis occurs, simply apply the variable <strong>sugar</strong> (for a better fit of the model ) until the drink is sweetened.</p>
<p>Now we can identify the marginal effects that the increase in sugar can have on the drink, and a very curious irony is that we are here looking for an optimization solution. Testing the sugar variation in order to seek an optimal point of balance, that is, where the addition of sugar can lead to a point of balance between sucrose and the acidity of the coffee, making the drink sweetened to the consumer’s taste.</p>
<p>Theoretically, you add a spoonful of sugar and try it; If it’s not at the desired point, you can add a little more and try again; and so on until you reach the flavor you like most. In other words, after mixing the ingredients, only the amount of sugar will be adjusted, keeping the proportions or quantities of the other ingredients fixed. It is in this “keeping fixed” that the <em>Ceteris Paribus</em> condition occurs, that is, <strong>“keeping all other things unchanged”</strong>.</p>
<p>This is exactly what the <em>ceteris paribus</em> condition means: keeping some variables fixed in their proportions and quantities or constants (in this case, the water and coffee powder after mixing and infusing) and changing only the sugar, to understand the effect that sugar has on the variable <strong>Y</strong> (the coffee itself).</p>
<p>One of the first appearances of the use of this term in economics is contained in the work of the 17th century economist Richard Cantillon, with the title:</p>
<blockquote class="blockquote">
<p><em>Cantillon, Richard. <a href="https://books.google.com.br/books?id=J1ZPAWiGRucC&amp;lpg=PP1&amp;pg=PP1#v=onepage&amp;q&amp;f=false">Essays on the Nature of Commerce in General</a>. Routledge, 2017</em>.</p>
</blockquote>
<p>In economic science, this concept is widely used in models, mainly in neoclassical theory, as it allows the interpretation of cause and effect events in the real world in a representative way.</p>
<p>Imagine having to deal with the enormous and growing flow of information that is generated every day, at all times? Everyone would go crazy!!! So, economic theory simplifies the analysis so that it is possible to find solutions to problems: it is like disregarding some information (or considering that they are constant, that they do not change or do not alter your analysis) and then analyze the effects of other information.</p>
<p>Do not think that this is absurd, or that it is unrealistic, if for any moment this thought crossed your mind, please review it immediately, as economic theory is made up of many, many observations, deductions and tests of the events of cause and effect of the real world, and that is why it is recognized as science today.</p>
<p>Another very interesting example in which I was able to observe the effect of this condition is in the financial market, the theory of portfolio diversification guarantees the reduction of the investor’s exposure to non-systemic risk, that is, disregarding non-systemic risk and keeping it fixed close to null may be an effect of the <em>ceteris paribus</em> condition, as the investor diversifies his investments to protect himself from the fluctuation of such assets, trying to keep non-systemic risk to the minimum possible, and when a correlation closer to zero is achieved, he assumes that it is free of non-systemic risk and thus alters its market positions based on systemic risks. There are so many real examples that use this condition that it goes beyond sweetening my coffee.</p>
<p>The condition <em>ceteris paribus</em> is present in our daily lives, in almost everything it is possible to find it, but there will be skeptics who will say: <em>“but in reality nothing remains fixed or constant”</em>, or even <em>“that is part of the idea of general balance, and in general it is unreal, because balance is not empirical”</em>, well, the real world is dynamic, but in my humble opinion, the world has always been in a natural balance, the dynamism of the real world is nothing more is than equilibria interacting simultaneously, so therefore, the <em>ceteris paribus</em> condition can make some real and palpable sense.</p>
<p>Finally, the <em>ceteris paribus</em> condition means that we can keep some variables fixed or constant to analyze only what matters; This condition is very useful for creating econometric models used to better calculate and interpret real-world phenomena.</p>
<p>I hope I have fulfilled my mission of exploring the <em>ceteris paribus</em> condition in a similar way for a better understanding. In the next publications I will deal with models in economic science, to explain why this science is so full of mathematical and statistical applications.</p>
<p>Adapted from <a href="https://medium.com/the-empirical-mode/a-condi%C3%A7%C3%A3o-ceteris-paribus-para-ado%C3%A7ar-meu-caf%C3%%20A9-7da9b9326604">original</a>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hey! 👋, did you find my work useful? Consider buying me a coffee ☕, by clicking here 👇🏻
</div>
</div>
<div class="callout-body-container callout-body">
<p><a href="https://www.buymeacoffee.com/hcostax"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&amp;emoji=&amp;slug=hcostax&amp;button_colour=5F7FFF&amp;font_colour =ffffff&amp;font_family=Cookie&amp;outline_colour=000000&amp;coffee_colour=FFDD00"></a></p>
</div>
</div>



<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-costa2018" class="csl-entry quarto-appendix-citeas">
Costa, Henrique. 2018. <span>“The Ceteris Paribus Condition.”</span>
September 16, 2018. <a href="https://doi.org/10.59350/jxf43-hc691">https://doi.org/10.59350/jxf43-hc691</a>.
</div></div></section></div> ]]></description>
  <category>Economics</category>
  <category>Theory</category>
  <guid>https://henriqueqrm.netlify.app/blog/ceteris_paribus/</guid>
  <pubDate>Sun, 16 Sep 2018 03:00:00 GMT</pubDate>
  <media:content url="https://henriqueqrm.netlify.app/blog/ceteris_paribus/feature.jpg" medium="image" type="image/jpeg"/>
</item>
</channel>
</rss>
